!function(){function e(t,i,n){function a(r,o){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[r]={exports:{}};t[r][0].call(c.exports,function(e){var i=t[r][1][e];return a(i||e)},c,c.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}return e}()({1:[function(e,t,i){},{}],2:[function(e,t,i){!function(e){"use strict";e.Plugin.KineticScrolling=function(t,i){e.Plugin.call(this,t,i),this.pointerId=null,this.dragging=!1,this.pressedDown=!1,this.timestamp=0,this.callbackID=0,this.targetX=0,this.targetY=0,this.autoScrollX=!1,this.autoScrollY=!1,this.startX=0,this.startY=0,this.velocityX=0,this.velocityY=0,this.amplitudeX=0,this.amplitudeY=0,this.directionWheel=0,this.velocityWheelX=0,this.velocityWheelY=0,this.thresholdOfTapTime=100,this.thresholdOfTapDistance=10,this.thresholdReached=!1,this.clickHelperActiveObjects=[],this.settings={kineticMovement:!0,timeConstantScroll:325,horizontalScroll:!0,verticalScroll:!1,horizontalWheel:!0,verticalWheel:!1,deltaWheel:40,onUpdate:null,button:""}},e.Plugin.KineticScrolling.prototype=Object.create(e.Plugin.prototype),e.Plugin.KineticScrolling.prototype.constructor=e.Plugin.KineticScrolling,e.Plugin.KineticScrolling.prototype.configure=function(e){if(e)for(var t in e)this.settings.hasOwnProperty(t)&&(this.settings[t]=e[t])},e.Plugin.KineticScrolling.prototype.start=function(){this.game.input.onDown.add(this.beginMove,this),this.callbackID=this.game.input.addMoveCallback(this.moveCamera,this),this.game.input.onUp.add(this.endMove,this),this.game.input.mouse.mouseWheelCallback=this.mouseWheel.bind(this)},e.Plugin.KineticScrolling.prototype.beginMove=function(t){this.settings.button&&t.button!==e.Mouse[this.settings.button]||(this.pointerId=t.id,this.startX=this.game.input.x,this.startY=this.game.input.y,this.screenX=t.screenX,this.screenY=t.screenY,this.pressedDown=!0,this.thresholdReached=!1,this.timestamp=Date.now(),this.beginTime=this.timestamp,this.velocityY=this.amplitudeY=this.velocityX=this.amplitudeX=0)},e.Plugin.KineticScrolling.prototype.moveCamera=function(e,t,i){if(clearTimeout(this.clearMovementTimer),this.pressedDown&&this.pointerId===e.id){this.now=Date.now();var n=this.now-this.timestamp;this.timestamp=this.now;var a=0,s=0;if(!(this.isTap()&&Math.abs(e.screenY-this.screenY)<this.thresholdOfTapDistance&&Math.abs(e.screenX-this.screenX)<this.thresholdOfTapDistance)){if(!this.thresholdReached)return this.thresholdReached=!0,this.startX=t,this.startY=i,void this.cancelClickEventHelpers();if(this.settings.horizontalScroll&&(a=t-this.startX,0!==a&&(this.dragging=!0),this.startX=t,this.velocityX=.8*(1e3*a/(1+n))+.2*this.velocityX,this.game.camera.x-=a),this.settings.verticalScroll&&(s=i-this.startY,0!==s&&(this.dragging=!0),this.startY=i,this.velocityY=.8*(1e3*s/(1+n))+.2*this.velocityY,this.game.camera.y-=s),"function"==typeof this.settings.onUpdate){var r=0;this.canCameraMoveX()&&(r=a);var o=0;this.canCameraMoveY()&&(o=s),this.settings.onUpdate(r,o)}this.clearMovementTimer=setTimeout(function(){this.velocityX=0,this.velocityY=0}.bind(this),20)}}},e.Plugin.KineticScrolling.prototype.isTap=function(){return this.now-this.beginTime<this.thresholdOfTapTime},e.Plugin.KineticScrolling.prototype.canCameraMoveX=function(){return this.game.camera.x>0&&this.game.camera.x+this.game.camera.width<this.game.camera.bounds.right},e.Plugin.KineticScrolling.prototype.canCameraMoveY=function(){return this.game.camera.y>0&&this.game.camera.y+this.game.camera.height<this.game.camera.bounds.height},e.Plugin.KineticScrolling.prototype.addClickEvents=function(e,t){if(e.kineticScrollingClickHelpers)for(var i in t)t.hasOwnProperty(i)&&(e.kineticScrollingClickHelpers[i]=t[i]);else e.kineticScrollingClickHelpers=t,e.inputEnabled=!0,e.kineticScrollingClickHelpers.inputIsDown=!1,e.events.onInputDown.add(function(){e.kineticScrollingClickHelpers.downTimer=setTimeout(function(){e.kineticScrollingClickHelpers.downTimer=null,this.thresholdReached||(this.clickHelperActiveObjects.push(e),e.kineticScrollingClickHelpers.inputIsDown=!0,e.kineticScrollingClickHelpers.down&&e.kineticScrollingClickHelpers.down(e))}.bind(this),this.thresholdOfTapTime+10)},this),e.events.onInputUp.add(function(){this.clickHelperActiveObjects.splice(this.clickHelperActiveObjects.indexOf(e)),e.kineticScrollingClickHelpers.inputIsDown?(e.kineticScrollingClickHelpers.up&&e.kineticScrollingClickHelpers.up(e),this.isTap()&&e.kineticScrollingClickHelpers.click&&e.kineticScrollingClickHelpers.click(e),e.kineticScrollingClickHelpers.inputIsDown=!1):e.kineticScrollingClickHelpers.downTimer&&!this.thresholdReached&&(clearTimeout(e.kineticScrollingClickHelpers.downTimer),e.kineticScrollingClickHelpers.down&&e.kineticScrollingClickHelpers.down(e),e.kineticScrollingClickHelpers.up&&e.kineticScrollingClickHelpers.up(e),e.kineticScrollingClickHelpers.click&&e.kineticScrollingClickHelpers.click(e))}.bind(this))},e.Plugin.KineticScrolling.prototype.cancelClickEventHelpers=function(){this.clickHelperActiveObjects.forEach(function(e){var t=e.kineticScrollingClickHelpers.inputIsDown;e.kineticScrollingClickHelpers.inputIsDown=!1,t&&e.kineticScrollingClickHelpers.up&&e.kineticScrollingClickHelpers.up()})},e.Plugin.KineticScrolling.prototype.endMove=function(){clearTimeout(this.clearMovementTimer),this.pointerId=null,this.pressedDown=!1,this.autoScrollX=!1,this.autoScrollY=!1,this.settings.kineticMovement&&(this.now=Date.now(),this.game.input.activePointer.withinGame&&((this.velocityX>10||this.velocityX<-10)&&(this.amplitudeX=.8*this.velocityX,this.targetX=Math.round(this.game.camera.x-this.amplitudeX),this.autoScrollX=!0),(this.velocityY>10||this.velocityY<-10)&&(this.amplitudeY=.8*this.velocityY,this.targetY=Math.round(this.game.camera.y-this.amplitudeY),this.autoScrollY=!0)),this.game.input.activePointer.withinGame||(this.velocityWheelXAbs=Math.abs(this.velocityWheelX),this.velocityWheelYAbs=Math.abs(this.velocityWheelY),this.settings.horizontalScroll&&(this.velocityWheelXAbs<.1||!this.game.input.activePointer.withinGame)&&(this.autoScrollX=!0),this.settings.verticalScroll&&(this.velocityWheelYAbs<.1||!this.game.input.activePointer.withinGame)&&(this.autoScrollY=!0)))},e.Plugin.KineticScrolling.prototype.update=function(){this.elapsed=Date.now()-this.timestamp,this.velocityWheelXAbs=Math.abs(this.velocityWheelX),this.velocityWheelYAbs=Math.abs(this.velocityWheelY);var e=0;this.autoScrollX&&0!=this.amplitudeX&&(e=-this.amplitudeX*Math.exp(-this.elapsed/this.settings.timeConstantScroll),this.canCameraMoveX()&&(e>.5||e<-.5)?this.game.camera.x=this.targetX-e:(this.autoScrollX=!1,this.game.camera.x=this.targetX)),this.autoScrollY&&0!=this.amplitudeY&&(e=-this.amplitudeY*Math.exp(-this.elapsed/this.settings.timeConstantScroll),this.canCameraMoveY()&&(e>.5||e<-.5)?this.game.camera.y=this.targetY-e:(this.autoScrollY=!1,this.game.camera.y=this.targetY)),this.autoScrollX||this.autoScrollY||(this.dragging=!1),this.settings.horizontalWheel&&this.velocityWheelXAbs>.1&&(this.dragging=!0,this.amplitudeX=0,this.autoScrollX=!1,this.game.camera.x-=this.velocityWheelX,this.velocityWheelX*=.95),this.settings.verticalWheel&&this.velocityWheelYAbs>.1&&(this.dragging=!0,this.autoScrollY=!1,this.game.camera.y-=this.velocityWheelY,this.velocityWheelY*=.95)},e.Plugin.KineticScrolling.prototype.mouseWheel=function(e){if(this.settings.horizontalWheel||this.settings.verticalWheel){e.preventDefault();var t=120*this.game.input.mouse.wheelDelta/this.settings.deltaWheel;if(this.directionWheel!=this.game.input.mouse.wheelDelta&&(this.velocityWheelX=0,this.velocityWheelY=0,this.directionWheel=this.game.input.mouse.wheelDelta),this.settings.horizontalWheel&&(this.autoScrollX=!1,this.velocityWheelX+=t,"function"==typeof this.settings.onUpdate)){var i=0;this.game.camera.x>0&&this.game.camera.x+this.game.camera.width<this.game.camera.bounds.width&&(i=t),this.settings.onUpdate(i,0)}if(this.settings.verticalWheel&&(this.autoScrollY=!1,this.velocityWheelY+=t,"function"==typeof this.settings.onUpdate)){var n=0;this.game.camera.y>0&&this.game.camera.y+this.game.camera.height<this.game.camera.bounds.height&&(n=t),this.settings.onUpdate(0,n)}}},e.Plugin.KineticScrolling.prototype.stop=function(){this.pressedDown=!1,this.game.input.onDown.remove(this.beginMove,this),this.callbackID?this.game.input.deleteMoveCallback(this.callbackID):this.game.input.deleteMoveCallback(this.moveCamera,this),this.game.input.onUp.remove(this.endMove,this),this.game.input.mouse.mouseWheelCallback=null,this.clickHelperActiveObjects.length=0}}(Phaser)},{}],3:[function(require,module,exports){!function(e,t,i){"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define(i):t[e]=i()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,i){return function(){return e._aborted?i(e.request):e._timedOut?i(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):i(e.request)))}}function setHeaders(e,t){var i,n=t.headers||{};n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var a="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||a||(n[contentType]=t.contentType||defaultHeaders.contentType);for(i in n)n.hasOwnProperty(i)&&"setRequestHeader"in e&&e.setRequestHeader(i,n[i])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,i,n){var a=uniqid++,s=e.jsonpCallback||"callback",r=e.jsonpCallbackName||reqwest.getcallbackPrefix(a),o=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),l=n.match(o),u=doc.createElement("script"),c=0,h=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return l?"?"===l[3]?n=n.replace(o,"$1="+r):r=l[3]:n=urlappend(n,s+"="+r),context[r]=generalCallback,u.type="text/javascript",u.src=n,u.async=!0,"undefined"==typeof u.onreadystatechange||h||(u.htmlFor=u.id="_reqwest_"+a),u.onload=u.onreadystatechange=function(){return!(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||c)&&(u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),void(c=1))},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,i({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),c=1}}}function getRequest(e,t){var i,n=this.o,a=(n.method||"GET").toUpperCase(),s="string"==typeof n?n:n.url,r=n.processData!==!1&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,o=!1;return"jsonp"!=n.type&&"GET"!=a||!r||(s=urlappend(s,r),r=null),"jsonp"==n.type?handleJsonp(n,e,t,s):(i=n.xhr&&n.xhr(n)||xhr(n),i.open(a,s,n.async!==!1),setHeaders(i,n),setCredentials(i,n),context[xDomainRequest]&&i instanceof context[xDomainRequest]?(i.onload=e,i.onerror=t,i.onprogress=function(){},o=!0):i.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(i),o?setTimeout(function(){i.send(r)},200):i.send(r),i)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,i){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=i,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,i);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var i,n,a,s,r=e.name,o=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(r,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&r)switch(o){case"input":/reset|button|image|file/i.test(e.type)||(i=/checkbox/i.test(e.type),n=/radio/i.test(e.type),a=e.value,(!(i||n)||e.checked)&&t(r,normalize(i&&""===a?"on":a)));break;case"textarea":t(r,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(s=0;e.length&&s<e.length;s++)e.options[s].selected&&l(e.options[s])}}function eachFormElement(){var e,t,i=this,n=function(e,t){var n,a,s;for(n=0;n<t.length;n++)for(s=e[byTag](t[n]),a=0;a<s.length;a++)serial(s[a],i)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,i),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,i){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(i)):e[t]=i},arguments),e}function buildParams(e,t,i,n){var a,s,r,o=/\[\]$/;if(isArray(t))for(s=0;t&&s<t.length;s++)r=t[s],i||o.test(e)?n(e,r):buildParams(e+"["+("object"==typeof r?s:"")+"]",r,i,n);else if(t&&"[object Object]"===t.toString())for(a in t)buildParams(e+"["+a+"]",t[a],i,n);else n(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require(1)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,i){e.push({name:t,value:i})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,i=Array.prototype.slice.call(arguments,0);return e=i.pop(),e&&e.nodeType&&i.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,i)},reqwest.toQueryString=function(e,t){var i,n,a=t||!1,s=[],r=encodeURIComponent,o=function(e,t){t="function"==typeof t?t():null==t?"":t,s[s.length]=r(e)+"="+r(t)};if(isArray(e))for(n=0;e&&n<e.length;n++)o(e[n].name,e[n].value);else for(i in e)e.hasOwnProperty(i)&&buildParams(i,e[i],a,o);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},{1:1}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.props=i.emitEvent=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e(3),l=n(o),u=e(16),c=n(u),h=e(39),d=e(36),p=n(d),f=e(40),m=e(41),y=e(37),g=e(34),v=e(42),b=n(v),_=e(5),w=n(_),k=null,O=[],E={isTest:!1,initialLevelIndex:1,initialState:p["default"].LANDING,initialLifes:4,maximumLifes:4,bonusLevelInterval:10,maximumPowerups:4},T=function(){function e(t,i){a(this,e),this.game=t,this.firstTime=i,this.life=E.initialLifes,this.maximumLifes=E.maximumLifes,this.bonusLevelInterval=E.bonusLevelInterval,this.maximumPowerups=E.maximumPowerups,this.words=null,this.audio={},this.isInitialCallToServer=!0,this._duration=0,this._powerups=[],this._reicevedNewPowerup=!1,this._word=null,this._life=E.initialLifes,this._levelIndex=E.initialLevelIndex,this._paused=!1,this._muted=t.sound.mute,this._isBonusLevel=!1,this._highscorePos=0,this._powerupsUsed=0,this._prefix=(0,y.getAssetPrefix)(),this._apiBaseUrl=t.environment.apiBaseUrl,this["public"]={isSmallScreen:this.game.world.height<460&&this.game.world.width<=320,isTest:E.isTest,duration:0,paused:!1,muted:t.sound.mute,powerups:[],powerupsUsed:0,reicevedNewPowerup:!1,levelIndex:this.levelIndex,isAndroidBrowser:(0,y.isAndroidBrowser)(),level:{settings:null},isBonusLevel:!1,highscorePos:0,life:this.life,maximumLifes:this.maximumLifes,word:null}}return r(e,[{key:"init",value:function(){var e=this;this.initAudio(function(){e.updateLevelData(),e.firstTime?e.updateState(E.initialState):(b["default"].trackEvent("start-game",{prop22:"restart"}),e.initPreLevel())})}},{key:"initAudio",value:function(e){var t=this;if((0,y.isMobileIE)())e();else{var i=[];m.sounds.forEach(function(e){e.audio=t.game.add.audio(e.key),i.push(e.audio)}),this.game.sound.setDecodedCallback(i,e,this)}}},{key:"startGame",value:function(){b["default"].trackEvent("start-game",{prop22:"start"}),this.initPreLevel()}},{key:"initPreLevel",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.word=this.getNewWordInstance();var t=this.checkIfBonusLevel()?p["default"].INIT_BONUSLEVEL:p["default"].INIT_LEVEL;this.updateState(t,e)}},{key:"startLevel",value:function(e,t){this.reicevedNewPowerup=!1,this.updateState(e,!1,t)}},{key:"checkIfBonusLevel",value:function(){return this.levelIndex%this.bonusLevelInterval===0&&this.powerups.length<this.maximumPowerups}},{key:"getNewWordInstance",value:function(){return this.words.standard.length||(this.words=this.createCopyOfCurrentWordsArray()),new w["default"]({current:this.getNewWord()})}},{key:"getNewWord",value:function(){var e="";return this.words.theme.length?e=this.words.theme.splice([Math.floor(Math.random()*this.words.theme.length)],1)[0]:this.words.standard.length&&(e=this.words.standard.splice([Math.floor(Math.random()*this.words.standard.length)],1)[0]),O.indexOf(e)<0&&this.checkIfWordFitsInGrid(e)?(O.push(e),e):this.words.standard.length||this.words.theme.length||!this.checkIfWordFitsInGrid(e)?this.getNewWord():e}},{key:"checkIfWordFitsInGrid",value:function(e){var t=this["public"].level.settings.data.rows*this["public"].level.settings.data.cols;return e.length<=t}},{key:"getPowerup",value:function(){var e=this.powerups.slice(),t=f.powerups[Math.floor(Math.random()*f.powerups.length)];e.push(t),this.powerups=e,this.reicevedNewPowerup=!0,this.updateState(p["default"].EARNED_POWERUP,!0,t)}},{key:"removePowerup",value:function(e){this.powerupsUsed+=1;var t=this.powerups.slice();t.splice(e,1),this.powerups=t}},{key:"updatePauseState",value:function(e){(0,m.playSound)("pause"),this.paused=e}},{key:"updateMuteState",value:function(e){this.game.sound.mute=e,this.muted=e}},{key:"updateDuration",value:function(e){this.duration+=e}},{key:"updateLife",value:function(e){this.life+=e}},{key:"updateLevel",value:function(e){this.levelIndex+=1,this.levelIndex>this["public"].level.settings.data.levels&&(0,h.checkIfLastLevel)(this["public"].level.settings.data)&&this.updateLevelData(),this.isBonusLevel=this.checkIfBonusLevel(),this.initPreLevel()}},{key:"updateStatusToServer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var n=this.isInitialCallToServer?{start:!0}:{},a=s(t,{level:this.levelIndex},n);(0,l["default"])({url:this._apiBaseUrl+"api/level",data:a,method:"post",success:function(t){e.isInitialCallToServer=!1,i(t.data)},error:function(e){i()}})}else i()}},{key:"getLoadingIndicator",value:function(){return new c["default"]({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY})}},{key:"updateLevelData",value:function(){this["public"].level.settings=(0,h.getLevel)(this.levelIndex),this.words=this.createCopyOfCurrentWordsArray()}},{key:"createCopyOfCurrentWordsArray",value:function(){return{theme:this["public"].level.settings.themeWords?this["public"].level.settings.themeWords.slice(0):[],standard:this["public"].level.settings.words.slice(0)}}},{key:"updateState",value:function(e,t,i){this.game.state.start(e,t,!1,i)}},{key:"checkIfGameOver",value:function(e){var t=this;if(this.life>0)this.updateStatusToServer(e,this.initPreLevel.bind(this));else{var i=s(e,{total:this.duration}),n=this.getLoadingIndicator();this.game.add.existing(n),n.animateIn(function(){t.updateStatusToServer(i,function(e){t.highscorePos=e?e.rank:null,n.animateOut(function(){n.kill(),t.updateState(p["default"].GAME_OVER,!0)})},!0)})}}},{key:"checkIfLetterMatch",value:function(e){return this.word.checkIfLetterMatch(e)}},{key:"onLetterCollected",value:function(){var e=this.word.lettersCollected,t="letter_collected_"+e;return(0,m.playSound)(t),this.word.updateLetterCollected()}},{key:"prefix",get:function(){return this._prefix}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,this["public"]&&(this["public"].muted=e)}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e,this["public"]&&(this["public"].paused=e)}},{key:"powerupsUsed",get:function(){return this._powerupsUsed},set:function(e){this._powerupsUsed=e,this["public"]&&(this["public"].powerupsUsed=e)}},{key:"levelIndex",get:function(){return this._levelIndex},set:function(e){this._levelIndex=e,this["public"]&&(this["public"].levelIndex=e)}},{key:"life",get:function(){return this._life},set:function(e){this._life=e,this["public"]&&(this["public"].life=e)}},{key:"word",get:function(){return this._word},set:function(e){this._word=e,this["public"]&&(this["public"].word=e)}},{key:"powerups",get:function(){return this._powerups},set:function(e){this._powerups=e,this["public"]&&(this["public"].powerups=e)}},{key:"reicevedNewPowerup",get:function(){return this._reicevedNewPowerup},set:function(e){this._reicevedNewPowerup=e,this["public"]&&(this["public"].reicevedNewPowerup=e)}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e,this["public"]&&(this["public"].duration=e)}},{key:"isBonusLevel",get:function(){return this._isBonusLevel},set:function(e){this._isBonusLevel=e,this["public"]&&(this["public"].isBonusLevel=e)}},{key:"highscorePos",get:function(){return this._isBonusLevel},set:function(e){this._highscorePos=e,this["public"]&&(this["public"].highscorePos=e)}}]),e}(),P={ASSETS_LOADED:function(e){S(e)},START_GAME:function(){return k.startGame()},FINISHED_LEVEL:function(e){k.updateStatusToServer(e,k.updateLevel.bind(k))},FAILED_LEVEL:function(e){return k.checkIfGameOver(e)},FINISHED_BONUS_LEVEL:function(e){k.updateStatusToServer(e,k.getPowerup.bind(k))},FAILED_BONUS_LEVEL:function(e){k.updateStatusToServer(e,k.updateLevel.bind(k))},START_LEVEL:function(e){return k.startLevel(e.state,{statusBar:e.statusBar,powerupBar:e.powerupBar})},RESTART_GAME:function(){I(k.game,!0,!1)},GAINED_LIFE:function(){return k.updateLife(1)},LOST_LIFE:function(){return k.updateLife(-1)},UPDATE_DURATION:function(e){return k.updateDuration(e)},UPDATE_PAUSE_STATE:function(e){return k.updatePauseState(e)},UPDATE_MUTE_STATE:function(e){return k.updateMuteState(e)},POWERUP_USED:function(e){return k.removePowerup(e)},CHECK_IF_BONUSLEVEL:function(){return k.checkIfBonusLevel()},CHECK_IF_LETTER_MATCH:function(e){return k.checkIfLetterMatch(e)},UPDATE_LETTER_COLLECTED:function(){return k.onLetterCollected()}},S=(i.emitEvent=function(e,t){return P[e](t)},i.props={get status(){return k["public"]},get isPaused(){return k["public"].paused},get isMuted(){return k["public"].muted},get prefix(){return k.prefix}},function(e){(0,h.initLevels)(e,"levelsJSON"),(0,g.initThemeCharacter)(e,"levelsJSON"),I(e)}),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k&&!t||(k=new T(e,i),k.init())}},{16:16,3:3,34:34,36:36,37:37,39:39,40:40,41:41,42:42,5:5}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){n(this,e),this.onWordCollected=null,this.current=t.current.toUpperCase(),this.batch=this.current.split(""),this.length=this.current.length,this.lettersCollected=0,this.singleLetterIndex=0}return a(e,[{key:"checkIfLetterMatch",value:function(e){return this.current[this.lettersCollected]===e}},{key:"updateLetterCollected",value:function(){this.lettersCollected++,this.lettersCollected===this.length&&this.onWordCollected()}},{key:"getSingleLetter",value:function(){var e=this.batch.splice([Math.floor(Math.random()*this.batch.length)],1)[0];return e}}]),e}();i["default"]=s},{}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(13),u=n(l),c=e(37),h=e(4),d=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game));return i._initialAmountOfSmileys=5,i._onScoreUpdate=e.onScoreUpdate,i._onKilled=e.onKilled,i._createCharacterSpawn=!1,i._limits={minX:i.game.world.width<400?40:i.game.world.width/2-200,maxX:i.game.world.width<400?i.game.world.width-40:i.game.world.width/2+200,minY:i.game.world.width<400?80:i.game.world.height/2-200,maxY:i.game.world.width<400?i.game.world.height-60:i.game.world.height/2+200},i}return r(t,e),o(t,[{key:"update",value:function(){h.props.isPaused||this._createCharacterSpawn?h.props.isPaused&&this._createCharacterSpawn&&(this._createCharacterSpawn=!1):(this._createCharacterSpawn=!0,this._setCharacterTimeout())}},{key:"_createInitialCharacters",value:function(){for(var e=0;e<this._initialAmountOfSmileys;e++)this._createCharacter()}},{key:"_setCharacterTimeout",value:function(){var e=(0,c.randomIntFromInterval)(150,300);this.game.time.events.add(e,this._createCharacter,this)}},{key:"_createCharacter",value:function(){if(this.game&&this._createCharacterSpawn){var e=(0,c.randomIntFromInterval)(this._limits.minX,this._limits.maxX),t=(0,c.randomIntFromInterval)(this._limits.minY,this._limits.maxY),i=new u["default"]({game:this.game,x:e,y:t,isEvil:0===(0,c.randomIntFromInterval)(0,10),onClick:this._onClick.bind(this)});this.addChild(i),this._setCharacterTimeout()}}},{key:"_onClick",value:function(e){e?this._onKilled():this._onScoreUpdate()}}]),t}(Phaser.Group);i["default"]=d},{13:13,37:37,4:4}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,
n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(14),c=n(u),h=e(20),d=n(h),p=e(38),f=n(p),m=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game));i.word=l.props.status.word||null,i.word&&(i.word.onWordCollected=e.onWordCollected);var n=l.props.status.isSmallScreen?f["default"].brick.xs.width:f["default"].brick.width;return i.rows=e.rows,i.cols=e.cols,i.onKilled=e.onKilled,i.onGainedLife=e.onGainedLife,i.onGameOver=e.onGameOver,i.onLetterCollected=e.onLetterCollected,i.numberOfBricks=i.rows*i.cols,i.brickWidth=n,i.brickWidthCenter=l.props.status.isSmallScreen?f["default"].brick.xs.center:f["default"].brick.center,i.brickLetterHeightCenter=i.brickWidthCenter-3,i.totalWidth=n+f["default"].brick.gutterX,i.totalHeight=n+f["default"].brick.gutterY,i.lifeBricks=0,i.lifeBricksMaximum=1,i.disabled=!1,i.letterArray=i.word?i._createLetterArray():[],i._createBricks(),i._centerBricks(),i}return r(t,e),o(t,[{key:"_createBricks",value:function(){for(var e=0,t=this.numberOfBricks;e<t;e++){var i=this.letterArray.splice(Math.floor(Math.random()*this.letterArray.length),1)[0],n=i?this.word.getSingleLetter():"",a=this._getCord("x",e,this.rows)*this.totalWidth,s=this._getCord("y",e,this.rows)*this.totalHeight,r=new c["default"](this.game,{x:a,y:s,index:e,letter:n,containsLetter:i,events:{onKilled:this.onKilled,onGainedLife:this.onGainedLife,onGameOver:this.onGameOver}});this.addChild(r),r.init()}}},{key:"_createLetterArray",value:function(){for(var e=[],t=this.word.length,i=0,n=this.numberOfBricks;i<n;i++)e[i]=t>0,t--;return e}},{key:"_centerBricks",value:function(){this.position.x=this.game.world.centerX-.5*this.width,this.position.y=this.game.world.centerY-.5*this.height}},{key:"animateInBricks",value:function(){this.children.forEach(function(e){e.animateBrick("scaleIn")})}},{key:"_getCord",value:function(e,t,i){var n={x:(t-t%i)/i,y:t%i};return n[e]}},{key:"createExplosionSprite",value:function(){var e=new d["default"]({game:this.game,x:this.brickWidthCenter,y:this.brickWidthCenter,width:90,originCenter:!0,key:"explosion"});return e.animations.add("explode"),e}},{key:"createGhostSprite",value:function(){var e=new d["default"]({game:this.game,x:this.brickWidthCenter,y:this.brickWidthCenter-5,originCenter:!0,width:36,key:"brick-ghost"+l.props.prefix,atlas:!0});return e}},{key:"createLifeSprite",value:function(){var e=new d["default"]({game:this.game,x:this.brickWidthCenter,y:this.brickWidthCenter-5,width:34,originCenter:!0,key:"brick-life"+l.props.prefix,atlas:!0});return e}},{key:"toggleBrickContentVisability",value:function(e){this.children.forEach(function(t){t.toggleBrickContentVisability(e)})}}]),t}(Phaser.Group);i["default"]=m},{14:14,20:20,38:38,4:4}],8:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(33),u=n(l),c=e(37),h=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game));i._stop=!1,i._delay=!1;var n=Math.floor(2e4/(i.game.world.width*i.game.world.height/1e3));return i._timeoutMin=n>90?n:90,i._timeoutMax=i._timeoutMin+30,i._setConfettiTimeout(),i}return r(t,e),o(t,[{key:"_setConfettiTimeout",value:function(){var e=(0,c.randomIntFromInterval)(this._timeoutMin,this._timeoutMax);this.game.time.events.add(e,this._createParticle,this)}},{key:"_createParticle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.game&&!this._delay&&!this._stop){var n=new d(this.game,e,t);this.addChild(n),i&&this._setConfettiTimeout()}}},{key:"stop",value:function(){this._delay=!0}},{key:"update",value:function(){var e=this;this.game.input.activePointer.isDown&&this._createParticle(this.game.input.x,this.game.input.y,!1),this.children.forEach(function(t){t.settings.position.rotateY<1?t.settings.position.rotateY+=t.settings.position.rotateSpeed:t.settings.position.rotateY=-1,e._delay&&(t.settings.position.vy-=.003*(e.game.world.height-t.position.y)),t.scale.y=t.settings.position.rotateY,t.position.y+=t.settings.position.vy,t.position.x+=t.settings.position.vx,t.pivot.y=t.position.y+t.settings.position.originY,t.pivot.x=t.position.x+t.settings.position.originX,t.angle+=t.settings.position.anglespin,t.clear(),t.beginFill(t.settings.color,1),t["draw"+t.settings.shape](t.x,t.y,t.settings.size.width,t.settings.size.height),t.endFill(),t.position.y>=e.game.world.height&&e.removeChild(t)})}}]),t}(Phaser.Group);i["default"]=h;var d=function(e){function t(e,i,n){a(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=["Rect","Circle"][Math.floor(2*Math.random())],l=(0,c.randomIntFromInterval)(10,14),h=(0,c.randomIntFromInterval)(10,14);return r.settings={color:u["default"].confetti[Math.floor(Math.random()*u["default"].confetti.length)],size:{width:l,height:h},position:{x:i?i:(0,c.randomIntFromInterval)(r.game.world.centerX-175,r.game.world.centerX+175),y:n?n:0,vx:.1*(0,c.randomIntFromInterval)(-6,6),vy:(0,c.randomIntFromInterval)(3,4),angle:(0,c.randomIntFromInterval)(0,360),anglespin:.1*(0,c.randomIntFromInterval)(-10,10),rotateY:(0,c.randomIntFromInterval)(0,1),rotateSpeed:.05*(0,c.randomIntFromInterval)(1,2),originY:"Rect"===o?.5*h:0,originX:"Rect"===o?.5*l:0},shape:o},r.x=r.settings.position.x,r.y=r.settings.position.y,r}return r(t,e),t}(Phaser.Graphics)},{33:33,37:37}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(37),c=function(e){function t(e,i){n(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o={x:0,y:0,condensed:!1,width:!1,widthCenter:0,height:105,heightCenter:0,word:"majs",tailOffset:100,fontSize:30,helpText:!1,hasTail:!0,tailAtTop:!1,delay:0,delayOut:0};return s.settings=r(o,i),s.settings.width=s._getWidth(),s.settings.widthCenter=.5*s.settings.width,s.settings.heightCenter=.5*s.settings.height,s.custom={animations:{animateIn:{callback:s._animateIn.bind(s),values:function(){return{scale:{x:1,y:1},alpha:1,angle:0}},duration:{alpha:250,scale:650,angle:1e3},delay:{alpha:100+s.settings.delay,scale:0+s.settings.delay,angle:100+s.settings.delay}},animateOut:{callback:s._animateOut.bind(s),positionY:function(){return s.position.y+100},alpha:function(){return 0},duration:{position:500,alpha:250},delay:{position:0+s.settings.delayOut,alpha:250+s.settings.delayOut}}}},s._init(),s}return s(t,e),o(t,[{key:"_init",value:function(){if(this.body=this._createBody(),this.addChild(this.body),this.settings.hasTail){var e=this._createTail();this.addChild(e)}var t=this._createText();this.addChild(t);var i=this._createHelpText();this.settings.helpText&&this.addChild(i);var n=window.isCanvasRenderer?1:0;this.position.x=this.settings.x-this.settings.widthCenter,this.position.y=this.settings.y-this.settings.heightCenter,this.scale.set(n,n),this.angle=window.isCanvasRenderer?0:-15,this.alpha=0,this.name="SpeechBubble"}},{key:"_getWidth",value:function(){return this.settings.width?this.settings.width:this.settings.word.length>6?this.settings.word.length*(.75*this.settings.fontSize)+70:245}},{key:"_createBody",value:function(){var e=new Phaser.BitmapData(this.game,"speech-bubble-body",this.settings.width,this.settings.height);return(0,u.scaleBitmapData)(e),(0,u.drawRoundedRect)(e.ctx,0,0,this.settings.width,this.settings.height,85,"#FFFFFF"),new Phaser.Sprite(this.game,0,0,e)}},{key:"_createTail",value:function(){var e=this.settings.tailAtTop?0:this.settings.height;((0,u.isOldIE)()||window.isCanvasRenderer)&&(e-=1);var t=new Phaser.Sprite(this.game,this.settings.tailOffset,e,this.game.cache.getBitmapData("speech-bubble-tail"));return t.rotation=this.settings.tailAtTop?180*u.radians:0,t}},{key:"_createHelpText",value:function(){var e=new Phaser.BitmapText(this.game,0,(-20),"roboto-condensed-bold","STAVA TILL",12);return e.position.x=(0,u.centerObject)(this.settings.width/2,e.width),e}},{key:"_createText",value:function(){var e=this._getFont(),t=new Phaser.BitmapText(this.game,this.settings.width/2,this.settings.height/2,e,this.settings.word.toUpperCase(),this.settings.fontSize);return t.tint="0x000000",t.anchor.set(.5),t}},{key:"_getFont",value:function(){return this.settings.condensed?"roboto-condensed-bold":this.settings.fontSize<30?"roboto-slab-bold-medium":"roboto-slab-bold"}},{key:"_animateIn",value:function(e,t){var i=e.values();(0,u.tweenTo)(this.game,this,{alpha:i.alpha},e.duration.alpha,e.delay.alpha),(0,u.tweenTo)(this.game,this.scale,i.scale,e.duration.scale,e.delay.scale,Phaser.Easing.Exponential.Out,t),(0,u.tweenTo)(this.game,this,{angle:i.angle},e.duration.angle,e.delay.angle,Phaser.Easing.Exponential.Out)}},{key:"_animateOut",value:function(e,t){l.props.status.isAndroidBrowser?(0,u.tweenTo)(this.game,this,{alpha:e.alpha()},e.duration.alpha,e.delay.alpha,t):((0,u.tweenTo)(this.game,this.position,{y:e.positionY()},e.duration.position,e.delay.position,Phaser.Easing.Exponential.In,t),(0,u.tweenTo)(this.game,this,{alpha:e.alpha()},e.duration.alpha,e.delay.alpha))}},{key:"animate",value:function(e,t){this.custom.animations[e].callback&&this.custom.animations[e].callback(this.custom.animations[e],t)}}]),t}(Phaser.Button);i["default"]=c},{37:37,4:4}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(19),u=n(l),c=e(20),h=n(c),d=e(22),p=n(d),f=e(17),m=n(f),y=e(4),g=e(33),v=n(g),b=e(35),_=(n(b),e(38)),w=n(_),k=e(37),O=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game));return i.status=y.props.status,i.value=e.value,i.statusBarHeight=w["default"].statusBar.height,i.statusBarCenterY=w["default"].statusBar.centerY,i.isBonusLevel=i.status.isBonusLevel,i.timer={duration:0,counter:i.isBonusLevel?i.status.level.settings.data.bonus.duration:i.status.level.settings.data.duration,instance:null},i.progressBar=null,i.progressBarWrapper=new Phaser.Group(i.game),i.addChild(i.progressBarWrapper),i.muteButton=i._createMuteButton(),i.addChild(i.muteButton),i.stateButton=i._createStateButton(),i.addChild(i.stateButton),i.inactiveLifesBar=new Phaser.Group(i.game),i.addChild(i.inactiveLifesBar),i.activeLifesBar=new Phaser.Group(i.game),i.addChild(i.activeLifesBar),i.levelStatus=i._createLevelStatus(),i.addChild(i.levelStatus),i._addLifesOnInit(),i.isBonusLevel?(i.statusStats=i._createStatusStats(),i.addChild(i.statusStats),s(i)):(i.statusBarWord=i._createStatusBarWord(),i.statusBarWordFilled=0,i.addChild(i.statusBarWord),i)}return r(t,e),o(t,[{key:"update",value:function(){if(this.progressBar&&this.progressBar.update(),this.muteButton&&this.muteButton.update(),this.stateButton&&this.stateButton.update(),this.statusBarWord&&this.statusBarWordFilled<this.value.lettersCollected){for(var e=0;e<this.value.lettersCollected;e++)this.statusBarWord.children[e].tint=v["default"].white;this.statusBarWordFilled++}this.statusStats&&(this.statusStats.text=this.value.score+" / "+this.value.maximumScore)}},{key:"_createStatusBarWord",value:function(){var e=new Phaser.BitmapText(this.game,0,0,"roboto-slab-bold-small",this.value.current,18);return e.tint=v["default"].darkerBlue,e.position.y=(0,k.centerObject)(this.statusBarCenterY,e.height)-4,e.position.x=(0,k.centerObject)(this.game.world.centerX+6,e.width),e}},{key:"_createStatusStats",value:function(){var e=new Phaser.BitmapText(this.game,0,0,"roboto-slab-bold-small",this.value.score+" / "+this.value.maximumScore,18);return e.position.y=(0,k.centerObject)(this.statusBarCenterY,e.height)-4,e.position.x=(0,k.centerObject)(this.game.world.centerX+6,e.width),e}},{key:"_createMuteButton",value:function(){var e=new m["default"]({game:this.game,x:this.game.world.width-70,y:this.statusBarCenterY-10});return e}},{key:"_createStateButton",value:function(){var e=new p["default"]({game:this.game,x:this.game.world.width-36,y:this.statusBarCenterY-10,onChange:this._onStateChange.bind(this)});return e}},{key:"_onStateChange",value:function(e){this.timer.instance&&(e&&!this.timer.instance.paused?this.timer.instance.pause():!e&&this.timer.instance.paused&&this.timer.instance.resume())}},{key:"_createLevelStatus",value:function(){var e=new Phaser.BitmapText(this.game,0,0,"roboto-condensed-bold","NIVÃ…: "+y.props.status.levelIndex,12);return e.anchor.set(1,0),e.position.x=this.game.world.width-20,e.position.y=60,e}},{key:"_addLifesOnInit",value:function(){for(var e=0,t=y.props.status.maximumLifes;e<t;e++)this.addLife(e,this.inactiveLifesBar,!1);for(var i=0,n=this.status.life;i<n;i++)this.addLife(i,this.activeLifesBar,!0)}},{key:"_createLife",value:function(e,t){var i=new h["default"]({game:this.game,x:25*e+30,y:this.statusBarCenterY,width:t?20:18,originCenter:!0,key:t?"active-life"+y.props.prefix:"inactive-life"+y.props.prefix,atlas:!0});return i}},{key:"_createProgressBar",value:function(){var e=new u["default"](this.game,{duration:this.timer.counter,timer:this.timer.instance,height:this.statusBarHeight});return e}},{key:"addLife",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeLifesBar.children.length,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeLifesBar,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.addChild(this._createLife(e,i))}},{key:"initLevelTimer",value:function(e){this.timer.instance=this.game.time.create(!1),this.timer.instance.add(this.timer.counter,e,this),this.timer.instance.start(),this.progressBar=this._createProgressBar(),this.progressBarWrapper.addChild(this.progressBar)}},{key:"removeLostLife",value:function(e,t,i){for(var n=e?e:this.activeLifesBar.children.length,a=0,s=1;s<=n;s++){var r=200*s,o=this.activeLifesBar.children.slice(-Math.abs(s))[0];o.tweenTo(this.game,o.scale,{x:0,y:0},800,r,Phaser.Easing.Exponential.In,function(){a++,t&&t(),a===n&&i&&i()})}}}]),t}(Phaser.Group);i["default"]=O},{17:17,19:19,20:20,22:22,33:33,35:35,37:37,38:38,4:4}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){return(0,D.getScreenDimensions)().width>1366?1366:(0,D.getScreenDimensions)().width}function l(){return(0,D.getScreenDimensions)().height>1024?1024:(0,D.getScreenDimensions)().height}function u(e){var t=!1,i=function(t){function i(){a(this,i);var t=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,{width:o(),height:l(),renderer:(0,D.forceCanvas)()?Phaser.CANVAS:Phaser.AUTO,parent:e.wrapperId||"content",resolution:(0,D.pixelRatio)(),state:u,antialias:!0}));return t.environment={apiBaseUrl:e.apiBaseUrl||(0,D.assetsBaseUrl)(),assetsBaseUrl:e.assetsBaseUrl||(0,D.assetsBaseUrl)()},M["default"].trackPage(),t}return r(i,t),i}(Phaser.Game),n=o(),u={preload:function(){d.scale.setResizeCallback(function(){var e=o(),t=l();d.scale.setGameSize(e,t),d.world.subAll("x",(n-e)/2),n=e}),d.scale.compatibility.scrollTo=null,d.stage.backgroundColor=L["default"].backgroundColor,d.load.baseURL=d.environment.assetsBaseUrl,d.load.spritesheet("loader","assets/sprites/seq-preloader.png",360,340,39)},create:function(){function e(){var e=o(),t=l();d.scale.setGameSize(e,t)}window.isCanvasRenderer=d.renderer instanceof PIXI.CanvasRenderer,d.state.add(j["default"].LOAD_GAME,h["default"]),d.state.add(j["default"].INIT_LEVEL,m["default"]),d.state.add(j["default"].INIT_BONUSLEVEL,g["default"]),d.state.add(j["default"].LEVEL,b["default"]),d.state.add(j["default"].BONUS_LEVEL,w["default"]),d.state.add(j["default"].GAME_OVER,O["default"]),d.state.add(j["default"].LANDING,p["default"]),d.state.add(j["default"].EARNED_POWERUP,T["default"]),d.state.add(j["default"].HIGHSCORE,S["default"]),d.cache.addBitmapData("speech-bubble-tail",C["default"].speechBubble.tail(d)),window.onresize=function(){e()},d.state.start(j["default"].LOAD_GAME),d.onPause.add(function(){t||c()})},update:function(){}},c=function(){var e=document.createElement("DIV");e.className="pause-overlay",e.tabIndex="0",document.body.appendChild(e),e.addEventListener("click",function(){d.paused=!1,t=!1,document.body.removeChild(e)}),t=!0},d=new i}var c=e(31),h=n(c),d=e(29),p=n(d),f=e(28),m=n(f),y=e(27),g=n(y),v=e(30),b=n(v),_=e(23),w=n(_),k=e(25),O=n(k),E=e(24),T=n(E),P=e(26),S=n(P),I=e(38),C=n(I),x=e(33),L=n(x),B=e(36),j=n(B),A=e(42),M=n(A),D=e(37);void 0===window.__BK_MINIGAME__&&(window.__BK_MINIGAME__={}),window.__BK_MINIGAME__.flippy=u},{23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,33:33,36:36,37:37,38:38,42:42}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e(33),c=n(u),h=e(4),d=e(37),p=e(20),f=n(p),m=function(e){function t(e,i){a(this,t);var n={x:0,y:0,diameter:30,onClicked:null},r=o({},n,i),l=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r.x,r.y));l.settings=r;var u=new Phaser.BitmapData(l.game,"back-button-background",l.settings.diameter,l.settings.diameter);(0,d.scaleBitmapData)(u),u.circle(l.settings.diameter/2,l.settings.diameter/2,l.settings.diameter/2,(0,d.getNumberAsHex)(c["default"].white));var p=new Phaser.Sprite(l.game,0,0,u);p.anchor.setTo(.5,.5),l.addChild(p);var m=new f["default"]({game:e,key:"arrow-left-icon"+h.props.prefix,width:16,originCenter:!0,atlas:!0});return l.addChild(m),l.inputEnabled=!0,l.input.useHandCursor=!0,l.events.onInputDown.add(l.onClicked.bind(l)),l}return r(t,e),l(t,[{key:"onClicked",value:function(){this.settings.onClicked&&this.settings.onClicked()}}]),t}(Phaser.Graphics);i["default"]=m},{20:20,33:33,37:37,4:4}],13:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(20),u=n(l),c=e(4),h=e(37),d=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{game:e.game,x:e.x,y:e.y,key:e.isEvil?"bomb":"smiley-"+(0,h.randomIntFromInterval)(0,2),width:60})),n=(i.width,i.height,(0,h.randomIntFromInterval)(40,60));return i.custom={isEvil:e.isEvil,width:n,height:n,animInDuration:(0,h.randomIntFromInterval)(900,1100),animOutDuration:(0,h.randomIntFromInterval)(1e3,1900),scaleToValue:(0,h.getScaleToValue)(1),events:{onClick:e.onClick},tweens:{"in":null,out:null}},i.inputEnabled=!0,i.input.useHandCursor=!0,i.scale.set(0,0),i.anchor.set(.5,.5),i._animateInStar(i._animateOutStar),i._setEventListeners(),i}return r(t,e),o(t,[{key:"update",value:function(){var e=this.custom.tweens["in"]&&this.custom.tweens.out;c.props.isPaused&&e?(this.custom.tweens["in"].isPaused||this.custom.tweens["in"].pause(),this.custom.tweens.out.isPaused||this.custom.tweens.out.pause()):!c.props.isPaused&&e&&(this.custom.tweens["in"].isPaused&&this.custom.tweens["in"].resume(),this.custom.tweens.out.isPaused&&this.custom.tweens.out.resume())}},{key:"_setEventListeners",value:function(){this.events.onInputDown.add(this._onClick.bind(this))}},{key:"_onClick",value:function(){c.props.isPaused||(this.inputEnabled=!1,this.custom.events.onClick(this.custom.isEvil),this.kill())}},{key:"_animateInStar",value:function(e){this.custom.tweens["in"]=this.tweenTo(this.game,this.scale,{x:[this.custom.scaleToValue+.2,this.custom.scaleToValue],y:[this.custom.scaleToValue+.2,this.custom.scaleToValue]},this.custom.animInDuration,0,Phaser.Easing.Back.Out,e.bind(this)).interpolation(function(e,t){return Phaser.Math.bezierInterpolation(e,t)})}},{key:"_animateOutStar",value:function(){var e=this;this.custom.tweens.out=this.tweenTo(this.game,this.scale,{x:0,y:0},this.custom.animOutDuration,0,Phaser.Easing.Linear.InOut,function(){e.kill()})}}]),t}(u["default"]);i["default"]=d},{20:20,37:37,4:4}],14:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e(4),c=e(20),h=(n(c),e(33)),d=n(h),p=e(32),f=n(p),m=e(35),y=n(m),g=e(38),v=n(g),b=e(37),_={LETTER:"LETTER",EMPTY:"EMPTY",LIFE:"LIFE",GHOST:"GHOST"},w=function(e){function t(e,i){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.x,i.y)),r={x:0,y:0,index:0,letter:"",containsLetter:!1,events:{onKilled:null,onGainedLife:null,onGameOver:null}};return n.settings=o(r,i),n.custom={type:null,letter:!1,showContent:!1,brickContent:null,collected:!1,colors:f["default"],animations:{scaleIn:{callback:n._scaleIn.bind(n),delay:(0,b.randomIntFromInterval)(150,450),durations:{scale:600,angle:200}},scaleOut:{callback:n._scaleOut.bind(n),delay:(0,b.randomIntFromInterval)(50,250)+250,durations:{scale:450,angle:250}},dropOut:{callback:n._dropOut.bind(n),delay:(0,b.randomIntFromInterval)(50,250),durations:{position:650,alpha:350}},explode:{callback:n._explode.bind(n),delay:(0,b.randomIntFromInterval)(50,250),durations:{position:650,alpha:350}}},typeProbability:{life:20,ghost:16}},n}return r(t,e),l(t,[{key:"update",value:function(){this._brickIsTypeOf([_.LETTER,_.LIFE,_.GHOST])&&(u.props.isPaused?!this.custom.collected&&this.custom.brickContent.visible&&(this.custom.brickContent.visible=!1):this.custom.showContent||this.custom.collected?this.custom.brickContent.visible||(this.custom.brickContent.visible=!0):this.custom.brickContent.visible&&(this.custom.brickContent.visible=!1))}},{key:"init",value:function(){this.custom.type=this._getBrickType(this.settings.containsLetter),this.custom.letter=!!this._brickIsTypeOf(_.LETTER)&&this.settings.letter,this.custom.showContent=!!this._brickIsTypeOf([_.LETTER,_.LIFE,_.GHOST]),this.custom.brickContent=this._getBrickContent(),this._createBrick(),this.custom.brickContent&&this.addChild(this.custom.brickContent),this.inputEnabled=!0,this.input.useHandCursor=!0,this.events.onInputDown.add(this._onClick.bind(this))}},{key:"_createBrick",value:function(){this._drawBrick(this.custom.colors[this.custom.type].standard.main,this.custom.colors[this.custom.type].standard.secondary),this.pivot.set(this.parent.brickWidthCenter,this.parent.brickWidthCenter),this.scale.set(0,0)}},{key:"_getBrickContent",value:function(){switch(this.custom.type){case _.LETTER:return this._createLetterText();case _.LIFE:return this.parent.createLifeSprite();case _.GHOST:return this.parent.createGhostSprite();default:return null}}},{key:"_drawBrick",value:function(e,t){this.clear(),this.beginFill(t,1),this.drawRoundedRect(0,0,this.parent.brickWidth,this.parent.brickWidth,16),this.endFill(),this.beginFill(e,1),this.drawRoundedRect(0,-5,this.parent.brickWidth,this.parent.brickWidth,12),this.endFill()}},{key:"_onClick",value:function(e){this._brickIsDisabled()||this.custom.collected||(this._brickIsTypeOf(_.LETTER)?this._letterBrickClicked():this._brickIsTypeOf(_.LIFE)?this._lifeBrickClicked():this._brickIsTypeOf(_.GHOST)?this._ghostBrickClicked():this._emptyBrickClicked())}},{key:"_letterBrickClicked",value:function(){(0,u.emitEvent)(y["default"].CHECK_IF_LETTER_MATCH,this.settings.letter)?(this.custom.brickContent.tint=d["default"].white,this.custom.collected=!0,this._drawBrick(this.custom.colors[this.custom.type].active.main,this.custom.colors[this.custom.type].active.secondary),this.parent.onLetterCollected(),(0,u.emitEvent)(y["default"].UPDATE_LETTER_COLLECTED)):(this.custom.brickContent.tint=d["default"].white,this.custom.showContent=!0,this.settings.events.onKilled(),this._drawBrick(this.custom.colors[this.custom.type].dead.main,this.custom.colors[this.custom.type].dead.secondary))}},{key:"_lifeBrickClicked",value:function(){this.custom.collected=!0,this._drawBrick(this.custom.colors[this.custom.type].active.main,this.custom.colors[this.custom.type].active.secondary);var e=u.props.status;e.life<e.maximumLifes&&this.settings.events.onGainedLife()}},{key:"_ghostBrickClicked",value:function(){this.custom.collected=!0,this._drawBrick(this.custom.colors[this.custom.type].active.main,this.custom.colors[this.custom.type].active.secondary),this.settings.events.onGameOver()}},{key:"_emptyBrickClicked",value:function(){this._drawBrick(this.custom.colors[this.custom.type].active.main,this.custom.colors[this.custom.type].active.secondary),this.settings.events.onKilled()}},{key:"_createLetterText",value:function(){var e=new Phaser.BitmapText(this.game,this.parent.brickWidthCenter,this.parent.brickLetterHeightCenter,"roboto-slab-bold",this.custom.letter,34);return e.tint=d["default"].black,e.anchor.set(.5),e}},{key:"_brickIsTypeOf",value:function(e){return e.constructor===Array?e.indexOf(this.custom.type)>-1:this.custom.type===e}},{key:"_getBrickType",value:function(e){var t=u.props.status,i=t.life<t.maximumLifes;return e?_.LETTER:this._isNotEmptyBrick(this.custom.typeProbability.life,i)?_.LIFE:this._isNotEmptyBrick(this.custom.typeProbability.ghost)?_.GHOST:_.EMPTY}},{key:"_brickIsDisabled",value:function(){return!this._brickIsTypeOf(_.LIFE)&&(this.parent.disabled||this.custom.collected||u.props.isPaused)}},{key:"_isNotEmptyBrick",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return 0===(0,b.randomIntFromInterval)(0,e)&&t}},{key:"_scaleIn",value:function(e){var t=v["default"].brick.scaleIn.tween;if(u.props.status.isAndroidBrowser)this.scale.setTo(1,1);else{var i=(0,b.tweenTo)(this.game,this.scale,{y:t.y,x:t.x},e.durations.scale,e.delay,Phaser.Easing.Back.Out);i.interpolation(function(e,t){return Phaser.Math.bezierInterpolation(e,t)})}}},{key:"_scaleOut",value:function(e){u.props.status.isAndroidBrowser||(0,b.tweenTo)(this.game,this.scale,{x:0,y:0},e.durations.scale,e.delay,Phaser.Easing.Exponential.In)}},{key:"_dropOut",value:function(e){this._brickIsTypeOf(_.LETTER)&&(this.custom.brickContent.tint=d["default"].white),this._drawBrick(this.custom.colors[this.custom.type].dead.main,this.custom.colors[this.custom.type].dead.secondary),u.props.status.isAndroidBrowser||((0,b.tweenTo)(this.game,this.position,{y:this.position.y+300},e.durations.position,e.delay,Phaser.Easing.Exponential.In),(0,b.tweenTo)(this.game,this,{alpha:0},e.durations.alpha,e.delay+250,Phaser.Easing.Linear.InOut));
}},{key:"_explode",value:function(e){var t=this.addChild(this.parent.createExplosionSprite());t.animations.play("explode",30,!1),this._drawBrick(this.custom.colors[this.custom.type].exploded.main,this.custom.colors[this.custom.type].exploded.secondary),(0,b.tweenTo)(this.game,this.position,{y:this.position.y+300},e.durations.position,e.delay,Phaser.Easing.Exponential.In),(0,b.tweenTo)(this.game,this,{alpha:0},e.durations.alpha,e.delay+250,Phaser.Easing.Linear.InOut)}},{key:"animateBrick",value:function(e){this.custom.animations[e].callback&&this.custom.animations[e].callback(this.custom.animations[e])}},{key:"toggleBrickContentVisability",value:function(e){if(this.custom.showContent=!(!e&&!this.custom.collected),this.custom.brickContent&&(this.custom.brickContent.visible=this.custom.showContent),!this.custom.collected&&!this.parent.disabled){var t=e?"standard":"hidden";this._drawBrick(this.custom.colors[this.custom.type][t].main,this.custom.colors[this.custom.type][t].secondary)}}}]),t}(Phaser.Graphics);i["default"]=w},{20:20,32:32,33:33,35:35,37:37,38:38,4:4}],15:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(20),u=n(l),c=e(37),h=e(34),d=e(41),p=(e(4),function(e){function t(e,i){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i=i||{},n.settings={collection:i.collection||(0,h.getCollection)("default"),initialFlippyPos:i.posY||n.game.world.centerY+160,initialFlippyOffset:n.game.world.height>750?100:120,holePositionX:0,flippyOffset:25,posAfterAnimated:0,delay:i.delay||0,onAnimated:i.onAnimated||function(){},playIntro:i.playIntro||!1},n.settings.holePositionX=n.game.world.centerX-n.settings.collection.body.style.width/2,n.parts={hole:null,body:null,face:null,overlay:null},n._addHole(),n}return r(t,e),o(t,[{key:"_addHole",value:function(){this.parts.hole=this.createHole(),this.addChild(this.parts.hole);var e=JSON.parse(JSON.stringify(this.parts.hole.scale));this.parts.hole.scale.set(0,0),(0,c.tweenTo)(this.game,this.parts.hole.scale,{y:e.y,x:e.x},450,this.settings.delay,Phaser.Easing.Back.Out,this._addFigure.bind(this))}},{key:"animateOutHole",value:function(e){(0,c.tweenTo)(this.game,this.parts.hole.scale,{y:0,x:0},450,0,Phaser.Easing.Back.In,e)}},{key:"animateOutBody",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(0,c.tweenTo)(this.game,this.figure.position,{y:this.settings.initialFlippyPos+this.settings.initialFlippyOffset+50},650,t,Phaser.Easing.Back.In,e);i.onStart.add(function(){(0,d.playSound)("flippy_out")})}},{key:"_addFigure",value:function(){this.figure=new Phaser.Group(this.game),this.addChild(this.figure),this._addBody(this.figure),this._addFace(this.figure),this._addOverlay(this.figure);var e=this._addMask(this.figure);this.figure.position.y=this.settings.initialFlippyPos+this.settings.initialFlippyOffset,this.figure.position.x=this.game.world.centerX-this.parts.body.width,this.figure.mask=e;var t=(0,c.tweenTo)(this.game,this.figure.position,{y:this.figure.position.y-this.parts.body.height+this.settings.flippyOffset},650,0,Phaser.Easing.Back.Out,this.settings.onAnimated);t.onStart.add(function(){(0,d.playSound)("flippy_in")})}},{key:"_addBody",value:function(e){this.settings.collection.body&&(this.parts.body=this.createBody(),e.addChild(this.parts.body))}},{key:"_addOverlay",value:function(e){this.settings.collection.overlay&&(this.parts.overlay=this.createOverlay(),e.addChild(this.parts.overlay))}},{key:"_addFace",value:function(e){this.settings.collection.face&&!window.isCanvasRenderer?(this.parts.face=this.createFace(this.parts.body.height,this.parts.body.width),this.parts.face.animations.add("smile"),e.addChild(this.parts.face),this.parts.face.animations.play("smile",30,!0)):this.settings.collection.face&&e.addChild(new u["default"]({game:this.game,x:5,y:(0,h.getVerticalOffset)(44),width:this.settings.collection.face.style.width,originCenter:!1,key:"static-face"}))}},{key:"_addMask",value:function(e){var t=this.parts.body.height+50;return this.createFlippyMask({x:this.settings.holePositionX-this.parts.hole.width/4,y:this.settings.initialFlippyPos-t},t,this.parts.hole.width)}},{key:"createHole",value:function(){return new u["default"]({game:this.game,x:this.settings.holePositionX,y:this.settings.initialFlippyPos,width:this.isWideHole()?this.settings.collection.hole.style.xlwidth:this.settings.collection.hole.style.width,originCenter:!0,key:this.settings.collection.hole.key})}},{key:"isWideHole",value:function(){return"undefined"!=typeof this.settings.collection.overlay&&(this.settings.collection.overlay.style.xl||!1)}},{key:"createBody",value:function(){return new u["default"]({game:this.game,x:0,y:0,width:this.settings.collection.body.style.width,originCenter:!1,key:this.settings.collection.body.key})}},{key:"createOverlay",value:function(e,t){return new u["default"]({game:this.game,x:this.parts.body.width/2,y:(0,h.getVerticalOffset)(60),width:this.settings.collection.overlay.style.width,originCenter:!0,key:this.settings.collection.overlay.key})}},{key:"createFace",value:function(e,t){return new u["default"]({game:this.game,x:5,y:(0,h.getVerticalOffset)(44),width:this.settings.collection.face.style.width,originCenter:!1,key:this.settings.collection.face.key})}},{key:"createFlippyMask",value:function(e,t,i){var n=this.game.add.graphics(e.x,e.y);return n.beginFill(16777215),n.drawEllipse(i/4,t,i/2,.157*i),n.drawRect(-Math.abs(i/2-1),0,1.5*i,t),n}}]),t}(Phaser.Group));i["default"]=p},{20:20,34:34,37:37,4:4,41:41}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(20),u=n(l),c=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{game:e.game,x:e.x,y:e.y,key:"loader",originCenter:!0,width:180}));return i.animations.add("loading"),i.animations.play("loading",30,!0),i.alpha=0,i}return r(t,e),o(t,[{key:"animateIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.tweenTo(this.game,this,{alpha:1},250,0,null,e)}},{key:"animateOut",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.tweenTo(this.game,this,{alpha:0},250,0,null,function(){t?t(e):e.kill()})}}]),t}(u["default"]);i["default"]=c},{20:20}],17:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(35),c=n(u),h=e(20),d=n(h),p=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game,e.x,e.y));i.states={MUTED:"MUTED",UNMUTED:"UNMUTED"};var n=l.props.isMuted;return i.state=n?i.states.MUTED:i.states.UNMUTED,i.muteIcon=i._createMuteSprite(),i.unmuteIcon=i._createUnmuteSprite(),i.muteIcon.visible=n,i.unmuteIcon.visible=!n,i.events.onInputDown.add(i._onClick.bind(i)),i.hitArea=new Phaser.Rectangle((-22),(-22),44,44),i.addChild(i.muteIcon),i.addChild(i.unmuteIcon),i}return r(t,e),o(t,[{key:"update",value:function(){this.state!==this.states.MUTED||this.muteIcon.visible?this.state===this.states.UNMUTED&&this.muteIcon.visible&&(this.muteIcon.visible=!1,this.unmuteIcon.visible=!0):(this.muteIcon.visible=!0,this.unmuteIcon.visible=!1)}},{key:"_onClick",value:function(){this.state=this.state===this.states.MUTED?this.states.UNMUTED:this.states.MUTED;var e=this.state===this.states.MUTED;(0,l.emitEvent)(c["default"].UPDATE_MUTE_STATE,e)}},{key:"_createMuteSprite",value:function(){return new d["default"]({game:this.game,x:0,y:0,width:18,originCenter:!1,key:"mute-icon"+l.props.prefix,atlas:!0})}},{key:"_createUnmuteSprite",value:function(){return new d["default"]({game:this.game,x:0,y:0,width:18,originCenter:!1,key:"unmute-icon"+l.props.prefix,atlas:!0})}}]),t}(Phaser.Button);i["default"]=p},{20:20,35:35,4:4}],18:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(20),u=n(l),c=e(4),h=e(37),d=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{game:e.game,x:e.x,y:e.y,key:e.data.key+c.props.prefix,atlas:!0,width:60,originCenter:!0}));return i.settings={id:e.data.id,duration:e.data.duration||0,index:e.index,soundKey:e.data.soundKey,scaleToValue:"powerup-bomb"===e.data.key?.5:(0,h.getScaleToValue)(1)},e.scaleIn&&(i.scale.set(0,0),i.tweenTo(i.game,i.scale,{x:i.settings.scaleToValue,y:i.settings.scaleToValue},400,200,Phaser.Easing.Back.Out)),i}return r(t,e),o(t,[{key:"addClickEvent",value:function(e){this.inputEnabled=!0,this.input.useHandCursor=!0,this.events.onInputDown.add(e.bind(this))}}]),t}(u["default"]);i["default"]=d},{20:20,37:37,4:4}],19:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(33),u=n(l),c=e(37),h=function(e){function t(e,i){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.settings={height:i.height,width:n.game.world.width,currentWidth:0,duration:i.duration,timer:i.timer},n.position.x=0,n.position.y=0,n.alpha=.2,n.lineStyle(0),n.beginFill(u["default"].black,1),n.drawRect(0,0,n.settings.width,n.settings.height),n.endFill(),n.scale.set(0,1),n.tween=(0,c.tweenTo)(n.game,n.scale,{x:1.01},n.settings.duration),n}return r(t,e),o(t,[{key:"update",value:function(){this.settings.timer.paused&&!this.tween.isPaused&&this.settings.timer.running?this.tween.pause():!this.settings.timer.paused&&this.tween.isPaused&&this.settings.timer.running&&this.tween.resume(),this.settings.timer.running||this.tween.pause()}}]),t}(Phaser.Graphics);i["default"]=h},{33:33,37:37}],20:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=e(37),l=function(e){function t(e){n(this,t);var i={game:null,x:0,y:0,key:"",width:30,originCenter:!1,atlas:!1},s=r(i,e),l=s.atlas?"asset-sprite":s.key,u=s.atlas?s.key:0,c=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.game,s.x,s.y,l,u)),h=c.width,d=c.height;return s.originCenter&&c.anchor.set(.5,.5),c.width=s.width,c.height=d/h*s.width,c.tweenTo=o.tweenTo,c}return s(t,e),t}(Phaser.Sprite);i["default"]=l},{37:37}],21:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e(37),c=a(u),h=e(33),d=(n(h),function(e){function t(e,i,n){s(this,t);var a=c.randomIntFromInterval(20,60),o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n,new p(e,a)));return o.scale.set(0,0),o.anchor.set(.5,.5),o.angle=-30,o.settings={rotationSpeed:.001*c.randomIntFromInterval(-10,10)},o}return o(t,e),l(t,[{key:"update",value:function(){this.rotation+=this.settings.rotationSpeed}},{key:"animate",value:function(){c.tweenTo(this.game,this.scale,{x:1,y:1},c.randomIntFromInterval(1600,2e3),c.randomIntFromInterval(300,900),Phaser.Easing.Elastic.Out)}}]),t}(Phaser.Sprite));i["default"]=d;var p=function(e){function t(e,i){s(this,t);var n=i,a=i,o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"star",n,a)),l=n,u=.25*i;return c.scaleBitmapData(o),o.ctx.beginPath(),o.ctx.moveTo(0,0),o.ctx.arcTo(u,a/2,0,a,l),o.ctx.lineTo(0,a),o.ctx.arcTo(n/2,a-u,n,a,l),o.ctx.lineTo(n,a),o.ctx.arcTo(n-u,a/2,n,0,l),o.ctx.lineTo(n,0),o.ctx.arcTo(n/2,u,0,0,l),o.ctx.lineTo(0,0),o.ctx.closePath(),o.ctx.fillStyle="#FFFFFF",o.ctx.fill(),o}return o(t,e),t}(Phaser.BitmapData)},{33:33,37:37}],22:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(35),c=n(u),h=e(20),d=n(h),p=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.game,e.x,e.y));return i.onChange=e.onChange,i.states={PLAYING:"PLAYING",PAUSED:"PAUSED"},i.state=l.props.isPaused?i.states.PAUSED:i.states.PLAYING,i.pauseIcon=i._createPauseSprite(),i.playIcon=i._createPlaySprite(),i.pauseIcon.visible=!l.props.isPaused,i.playIcon.visible=l.props.isPaused,i.events.onInputDown.add(i._onClick.bind(i)),i.hitArea=new Phaser.Rectangle((-22),(-22),44,44),i.addChild(i.pauseIcon),i.addChild(i.playIcon),i}return r(t,e),o(t,[{key:"update",value:function(){this.state!==this.states.PLAYING||this.pauseIcon.visible?this.state===this.states.PAUSED&&this.pauseIcon.visible&&(this.pauseIcon.visible=!1,this.playIcon.visible=!0):(this.pauseIcon.visible=!0,this.playIcon.visible=!1)}},{key:"_onClick",value:function(){this.state=this.state===this.states.PLAYING?this.states.PAUSED:this.states.PLAYING;var e=this.state===this.states.PAUSED;(0,l.emitEvent)(c["default"].UPDATE_PAUSE_STATE,e),this.onChange(e)}},{key:"_createPauseSprite",value:function(){return new d["default"]({game:this.game,x:0,y:0,width:16,originCenter:!1,key:"pause-icon"+l.props.prefix,atlas:!0})}},{key:"_createPlaySprite",value:function(){return new d["default"]({game:this.game,x:0,y:0,width:16,originCenter:!1,key:"play-icon"+l.props.prefix,atlas:!0})}}]),t}(Phaser.Button);i["default"]=p},{20:20,35:35,4:4}],23:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(10),c=(n(u),e(6)),h=n(c),d=e(20),p=(n(d),e(35)),f=n(p),m=e(38),y=(n(m),e(37)),g=e(41),v=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),o(t,[{key:"init",value:function(e){this._statusBar=e.statusBar,this._powerupBar=e.powerupBar}},{key:"preload",value:function(){var e=(0,y.getAssetPrefix)();this.game.load.image("bomb","assets/bonus-level/bonus-ghost"+e+".png?v=3"),this.game.load.image("smiley-0","assets/bonus-level/smiley-0"+e+".png?v=2"),this.game.load.image("smiley-1","assets/bonus-level/smiley-1"+e+".png?v=2"),this.game.load.image("smiley-2","assets/bonus-level/smiley-2"+e+".png?v=2")}},{key:"create",value:function(){this._bonusCharacters=null,this._finished=!1,this._levelDuration=0,this._createGame()}},{key:"update",value:function(){this._statusBar.value.score!==this._statusBar.value.maximumScore||this._finished||(this._finishedLevel(),this._finished=!0),this._statusBar.progressBar||l.props.isPaused||this._statusBar.initLevelTimer(this._onKilled.bind(this)),this._bonusCharacters&&this._bonusCharacters.update()}},{key:"_createTimerInstance",value:function(){return this.game.time.create(!1)}},{key:"_createGame",value:function(){this._bonusCharacters=new h["default"]({game:this.game,onScoreUpdate:this._updateScore.bind(this),onKilled:this._onKilled.bind(this)}),this.game.add.existing(this._bonusCharacters)}},{key:"_updateScore",value:function(){this._statusBar.value.score<this._statusBar.value.maximumScore&&((0,g.playSound)("bonusclick"),this._statusBar.value.score+=1)}},{key:"_finishedLevel",value:function(){var e=this;this._stopLevelTimer(),setTimeout(function(){(0,l.emitEvent)(f["default"].UPDATE_DURATION,e._levelDuration),(0,l.emitEvent)(f["default"].FINISHED_BONUS_LEVEL,{time:e._levelDuration})},300)}},{key:"_onKilled",value:function(){this._stopLevelTimer(),(0,g.playSound)("lost_life"),(0,l.emitEvent)(f["default"].UPDATE_DURATION,this._levelDuration),(0,l.emitEvent)(f["default"].FAILED_BONUS_LEVEL,{time:this._levelDuration})}},{key:"_stopLevelTimer",value:function(){this._statusBar.progressBar&&(this._levelDuration=(0,y.msToSeconds)(this._statusBar.timer.instance.ms),this._statusBar.timer.instance.stop())}}]),t}(Phaser.State);i["default"]=v},{10:10,20:20,35:35,37:37,38:38,4:4,41:41,6:6}],24:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(36),c=(n(u),e(35)),h=n(c),d=e(38),p=(n(d),e(41)),f=e(37),m=(e(40),e(9)),y=n(m),g=e(20),v=n(g),b=e(21),_=n(b),w=function(e){function t(){a(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.speechBubble=null,e}return r(t,e),o(t,[{key:"init",value:function(e){this._powerup=e}},{key:"preload",value:function(){this._powerup&&(window.isCanvasRenderer?this.game.load.image(this._powerup.sprite.key,this._powerup.sprite["static"].path):this.game.load.spritesheet(this._powerup.sprite.key,this._powerup.sprite.path,300,300,this._powerup.sprite.frames))}},{key:"create",value:function(){(0,p.playSound)("upgrade");var e=this._powerup.name,t=this._powerup.sprite.key;this._addPowerupSpriteToStage(t),this._addStars(),this.speechBubble=this._createSpeechBubble(e),this.speechBubble.inputEnabled=!1,this.game.add.existing(this.speechBubble),this._animateInSpeechBubble()}},{key:"_addStars",value:function(){for(var e=[],t=[],i=125,n=3,a=0;a<n;a++){var s=.1*(0,f.randomIntFromInterval)(9,12);e[a]=this.game.world.centerX+i*s*Math.cos(2*Math.PI*a/n),t[a]=this.game.world.centerY-60+i*s*Math.sin(2*Math.PI*a/n)}for(var r=0,o=n;r<o;r++){var l=new _["default"](this.game,e[r],t[r]);this.game.add.existing(l),l.animate()}}},{key:"_createSpeechBubble",value:function(e){var t=new y["default"](this.game,{x:this.game.world.centerX,y:this.game.world.centerY+120,height:75,tailOffset:150,fontSize:24,width:270,word:e,tailAtTop:!0,delay:400});return t}},{key:"_animateInSpeechBubble",value:function(){this.speechBubble.animate("animateIn",this._animateOutSpeechBubble.bind(this))}},{key:"_animateOutSpeechBubble",value:function(){var e=this;setTimeout(function(){e.speechBubble.animate("animateOut")},2250)}},{key:"_addPowerupSpriteToStage",value:function(e){var t=new v["default"]({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY-60,key:e,originCenter:!0,width:200});this.game.add.existing(t),window.isCanvasRenderer?this.game.time.events.add(2800,this._initNewLevel,this):(t.animations.add("anim"),setTimeout(function(){t.animations.play("anim",30,!1,!0)},500),t.animations.currentAnim.onComplete.add(this._initNewLevel,this))}},{key:"_initNewLevel",value:function(){(0,l.emitEvent)(h["default"].FINISHED_LEVEL)}}]),t}(Phaser.State);i["default"]=w},{20:20,21:21,35:35,36:36,37:37,38:38,4:4,40:40,41:41,9:9}],25:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(35),c=n(u),h=e(38),d=(n(h),e(41)),p=e(36),f=n(p),m=e(37),y=e(34),g=e(42),v=n(g),b=e(15),_=n(b),w=e(9),k=n(w),O=e(8),E=n(O),T=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),o(t,[{key:"init",value:function(e){this.playSound="undefined"==typeof e||e}},{key:"preload",value:function(){var e=this,t=(0,y.getCollectionByLevel)(l.props.status.levelIndex);if("undefined"!=typeof t&&"undefined"!=typeof t.overlay){y.overlays.filter(function(i){t.overlay.key===i.key&&e.game.load.image(i.key,i.path)})}}},{key:"create",value:function(){this.playSound&&(0,d.playSound)("cheer");var e=l.props.status,t=e.highscorePos?"- PLATS #"+e.highscorePos:"";v["default"].trackEvent("gameover",{prop21:e.powerupsUsed,prop22:e.levelIndex});var i=1!==e.duration?"SEKUNDER":"SEKUND",n=e.isSmallScreen?50:110,a=e.isSmallScreen?135:195;this.headline=new Phaser.BitmapText(this.game,0,n,"roboto-slab-bold-large","NIVÃ… "+e.levelIndex,70,"center"),this.subheadline=new Phaser.BitmapText(this.game,0,a,"roboto-slab",e.duration+" "+i+" "+t,20,"center"),this.headline.position.x=(0,m.centerObject)(this.game.world.centerX,this.headline.width),this.subheadline.position.x=(0,m.centerObject)(this.game.world.centerX,this.subheadline.width),this.headline.alpha=0,this.subheadline.alpha=0,this.game.add.existing(this.headline),this.game.add.existing(this.subheadline),this.animateInHeadlines(),this.addFlippy()}},{key:"animateInHeadlines",value:function(){(0,m.tweenTo)(this.game,this.headline.position,{y:this.headline.position.y-40},800,0,Phaser.Easing.Quintic.InOut),(0,m.tweenTo)(this.game,this.subheadline.position,{y:this.subheadline.position.y-40},800,100,Phaser.Easing.Quintic.InOut),(0,m.tweenTo)(this.game,this.headline,{alpha:1},300,250),(0,m.tweenTo)(this.game,this.subheadline,{alpha:1},300,350)}},{key:"animateOutHeadlines",value:function(e){(0,m.tweenTo)(this.game,this.headline.position,{y:this.headline.position.y+40},800,100,Phaser.Easing.Quintic.InOut,e),(0,m.tweenTo)(this.game,this.subheadline.position,{y:this.subheadline.position.y+40},800,0,Phaser.Easing.Quintic.InOut),(0,m.tweenTo)(this.game,this.headline,{alpha:0},250,300),(0,m.tweenTo)(this.game,this.subheadline,{alpha:0},250,200)}},{key:"addFlippy",value:function(){var e=l.props.status,t=e.isSmallScreen?165:200;this._flippy=new _["default"](this.game,{posY:this.game.world.centerY+t,delay:400,onAnimated:this.addSpeechBubble.bind(this),collection:(0,y.getCollectionByLevel)(e.levelIndex)})}},{key:"addSpeechBubble",value:function(){window.isCanvasRenderer||(this._confetti=this._createConfetti()),this._restartSpeechBubble=new k["default"](this.game,{x:this.game.world.centerX+50,y:this._flippy.figure.position.y,height:70,tailOffset:30,fontSize:24,width:240,word:"spela igen",delay:0,delayOut:200}),this._highscoreSpeechBubble=new k["default"](this.game,{x:this.game.world.centerX+50,y:this._flippy.figure.position.y+100,height:60,tailOffset:30,fontSize:18,width:180,word:"topplistan",delay:300}),this.game.add.existing(this._restartSpeechBubble),this.game.add.existing(this._highscoreSpeechBubble),this._restartSpeechBubble.inputEnabled=!0,this._highscoreSpeechBubble.inputEnabled=!0,this._restartSpeechBubble.animate("animateIn"),this._highscoreSpeechBubble.animate("animateIn"),this._restartSpeechBubble.events.onInputDown.add(this.onRestartClicked,this),this._highscoreSpeechBubble.events.onInputDown.add(this.onHighscoreClicked,this)}},{key:"_createConfetti",value:function(){return new E["default"]({game:this.game})}},{key:"onRestartClicked",value:function(){(0,d.playSound)("click"),this.animateOutView(function(){(0,l.emitEvent)(c["default"].RESTART_GAME)})}},{key:"onHighscoreClicked",value:function(){var e=this;(0,d.playSound)("click"),v["default"].trackEvent("highscore-page",{prop22:"highscore-page"}),this.animateOutView(function(){e.game.state.start(f["default"].HIGHSCORE,!0)})}},{key:"animateOutView",value:function(e){var t=this;this._restartSpeechBubble.animate("animateOut"),this._highscoreSpeechBubble.animate("animateOut"),this._flippy.animateOutBody(function(){t._confetti&&t._confetti.stop(),t._flippy.animateOutHole(function(){t.animateOutHeadlines(e.bind(t))})})}}]),t}(Phaser.State);i["default"]=T},{15:15,34:34,35:35,36:36,37:37,38:38,4:4,41:41,42:42,8:8,9:9}],26:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){return(0,g.getScreenDimensions)().height>1024?1024:(0,g.getScreenDimensions)().height}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e(3),c=n(u),h=e(4),d=e(41),p=e(33),f=n(p),m=e(36),y=n(m),g=e(37),v=e(12),b=n(v),_=e(20),w=n(_),k=e(16),O=n(k),E=e(2),T=(n(E),{kineticMovement:!0,timeConstantScroll:325,horizontalScroll:!1,verticalScroll:!0,horizontalWheel:!1,verticalWheel:!0,deltaWheel:40}),P=function(e){function t(){a(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listItemHeight=60,e.listItemCenterY=e.listItemHeight/2,e.highScoresStartY=255,e}return r(t,e),l(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;this.backButton=null,this.highscoreList=null,this.game.kineticScrolling=this.game.plugins.add(Phaser.Plugin.KineticScrolling),this.game.kineticScrolling.configure(T),this.game.kineticScrolling.start();var t=this._getLoadingIndicator();this.game.add.existing(t),t.animateIn(function(){e._getHighscores(function(i){t.animateOut(function(){t.kill(),e._createHeadline(),e.animateInHeadlines(),e._createList(i,e._createBackButton.bind(e))})})})}},{key:"_getLoadingIndicator",value:function(){return new O["default"]({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY})}},{key:"_createHeadline",value:function(){this.headline=new Phaser.BitmapText(this.game,this.game.world.width/2,115,"roboto-slab-bold-large","VECKANS\nTOPPLISTA",46,"center"),this.headline.anchor.set(.5,0),this.subheadline=new Phaser.BitmapText(this.game,this.game.world.width/2,235,"roboto-slab-bold-medium","DIN PLATS: #"+h.props.status.highscorePos,20,"center"),this.subheadline.tint=f["default"].darkerBlue,this.subheadline.anchor.set(.5,0),this.headline.alpha=0,this.subheadline.alpha=0,h.props.status.highscorePos&&this.game.add.existing(this.subheadline),this.game.add.existing(this.headline)}},{key:"animateInHeadlines",value:function(){(0,g.tweenTo)(this.game,this.headline.position,{y:this.headline.position.y-40},800,0,Phaser.Easing.Quintic.InOut),(0,g.tweenTo)(this.game,this.subheadline.position,{y:this.subheadline.position.y-40},800,100,Phaser.Easing.Quintic.InOut),(0,g.tweenTo)(this.game,this.headline,{alpha:1},200,400),(0,g.tweenTo)(this.game,this.subheadline,{alpha:1},300,500)}},{key:"animateOutHeadlines",value:function(e){(0,g.tweenTo)(this.game,this.headline.position,{y:this.headline.position.y+40},800,500,Phaser.Easing.Quintic.InOut,e),(0,g.tweenTo)(this.game,this.subheadline.position,{y:this.subheadline.position.y+40},800,400,Phaser.Easing.Quintic.InOut),(0,g.tweenTo)(this.game,this.headline,{alpha:0},250,700),(0,g.tweenTo)(this.game,this.subheadline,{alpha:0},250,600)}},{key:"animateOutBackButton",value:function(){(0,g.tweenTo)(this.game,this.backButton.scale,{y:0,x:0},400,0,Phaser.Easing.Back.In)}},{key:"animateOutHighscoreList",value:function(e){for(var t=1,i=this.highscoreList.children.length;t<=i;t++){var n=this.highscoreList.children.slice(-Math.abs(t))[0];(0,g.tweenTo)(this.game,n.position,{y:n.position.y+40},600,50*t,Phaser.Easing.Quintic.InOut),(0,g.tweenTo)(this.game,n,{alpha:0},200,50*t+100)}}},{key:"_createBackButton",value:function(){this.backButton=new b["default"](this.game,{x:50,y:50,diameter:50,onClicked:this._onBackButtonClicked.bind(this)}),this.backButton.fixedToCamera=!0,this.backButton.scale.set(0,0),this.game.add.existing(this.backButton),(0,g.tweenTo)(this.game,this.backButton.scale,{y:1,x:1},400,200,Phaser.Easing.Back.Out)}},{key:"_createList",value:function(e,t){var i=this,n=this.game.world.width>680?{start:this.game.world.width/2-340,end:this.game.world.width/2+340}:{start:0,end:this.game.world.width};this.highscoreList=new Phaser.Group(this.game),this.highscoreList.position.y=this.highScoresStartY,e.forEach(function(e,t){var a=i._getListItem({index:t,x:0,y:i.listItemHeight*t+40,backgroundColor:t%2===0?f["default"].blue:f["default"].darkBlue,stats:e,userScore:e.userScore,dimensions:n});(0,g.tweenTo)(i.game,a.position,{y:a.position.y-40},600,50*t+200,Phaser.Easing.Quintic.InOut),(0,g.tweenTo)(i.game,a,{alpha:1},300,50*t+400),i.highscoreList.addChild(a)}),this.game.world.setBounds(0,0,this.game.world.width,this.highscoreList.height+this.highScoresStartY),t()}},{key:"_getListItem",value:function(e){var t=new Phaser.Graphics(this.game,e.x,e.y),i=0===e.index,n=50,a=e.userScore?f["default"].darkGreen:f["default"].darkerBlue,s=e.userScore?"duration-icon-green":"duration-icon",r=e.userScore?f["default"].green:e.backgroundColor,o=e.dimensions;if(this.drawBackground(t,r,o),t.addChild(this.addPositionText(e.stats.rank,o.start+n)),t.addChild(this.addLevelHeadlineText(a,o.end-90)),t.addChild(this.addLevelValueText(e.stats.level,o.end-n)),t.addChild(this.addDurationIcon(s,o.end-170)),t.addChild(this.addDurationValue(e.stats.time,o.end-150)),t.alpha=0,!i){var l=this._getDottedLine({dimensions:o,color:e.userScore?f["default"].darkGreen:f["default"].darkerBlue,y:e.y});l&&t.addChild(l)}return t}},{key:"drawBackground",value:function(e,t,i){e.beginFill(t,1),e.drawRect(i.start,0,i.end-i.start,this.listItemHeight),e.endFill()}},{key:"addPositionText",value:function(e,t){var i=new Phaser.BitmapText(this.game,t,this.listItemCenterY,"roboto-slab-bold-medium","#"+e,26);return i.anchor.set(.5),i}},{key:"addLevelHeadlineText",value:function(e,t){var i=new Phaser.BitmapText(this.game,t,this.listItemCenterY,"roboto-slab-bold-small","NIVÃ…",12);return i.tint=e,i.anchor.set(.5),i}},{key:"addLevelValueText",value:function(e,t){var i=new Phaser.BitmapText(this.game,t,this.listItemCenterY,"roboto-slab-bold-medium",e,26);return i.anchor.set(.5),i}},{key:"addDurationValue",value:function(e,t){var i=new Phaser.BitmapText(this.game,t,this.listItemCenterY,"roboto-slab-bold-small",e.toString(),12,"right");return i.anchor.set(.5),i}},{key:"addDurationIcon",value:function(e,t){return new w["default"]({game:this.game,x:t,y:this.listItemCenterY,key:e+h.props.prefix,atlas:!0,width:14,originCenter:!0})}},{key:"_getDottedLine",value:function(e){try{var t=new Phaser.BitmapData(this.game,"dotted-line",this.game.world.width,2);return(0,g.scaleBitmapData)(t),t.ctx.beginPath(),t.ctx.lineWidth="4",t.ctx.strokeStyle=(0,g.getNumberAsHex)(e.color),t.ctx.setLineDash([8,8]),t.ctx.moveTo(e.dimensions.start,0),t.ctx.lineTo(e.dimensions.end,0),t.ctx.stroke(),t.ctx.closePath(),new Phaser.Sprite(this.game,0,0,t)}catch(i){return!1}}},{key:"_onBackButtonClicked",value:function(){var e=this;(0,d.playSound)("click"),this.animateOutBackButton(),this.animateOutHighscoreList(),this.animateOutHeadlines(function(){e.game.world.setBounds(0,0,e.game.world.width,o()),e.game.kineticScrolling.stop(),e.game.state.start(y["default"].GAME_OVER,!0,!1,!1)})}},{key:"_getHighscores",value:function(e){var t=this;(0,c["default"])({url:this.game.environment.apiBaseUrl+"api/highscore",method:"get",success:function(t){e(t.data)},error:function(e){t.game.state.start(y["default"].GAME_OVER,!0,!1,!1)}})}}]),t}(Phaser.State);i["default"]=P},{12:12,16:16,2:2,20:20,3:3,33:33,36:36,37:37,4:4,41:41}],27:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(15),c=n(u),h=e(10),d=n(h),p=e(9),f=n(p),m=(e(37),e(35)),y=n(m),g=e(36),v=n(g),b=e(38),_=(n(b),e(41)),w=e(34),k=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),o(t,[{key:"create",value:function(){var e=l.props.status,t={score:0,maximumScore:e.level.settings.data.bonus.score};this._powerupBar=null,this._statusBar=this._createStatusBar(t),this.game.add.existing(this._statusBar),this._flippy=new c["default"](this.game,{collection:(0,w.getCollection)("bonus"),delay:0,onAnimated:this.addSpeechBubble.bind(this),playIntro:!1}),(0,_.playSound)("bonus")}},{key:"addSpeechBubble",value:function(){var e=this,t=this._flippy.figure.position.y,i=this._createSpeechBubble(t,"bonusnivÃ¥!!",200,600);i.inputEnabled=!1,this.game.add.existing(i),this.game.time.events.add(560,function(){(0,_.playSound)("wooow")}),i.animate("animateIn",function(){i.animate("animateOut",function(){e._flippy.animateOutBody(function(){e._flippy.animateOutHole(function(){e._flippy.destroy(),e._initNewLevel()})},200)})})}},{key:"_createStatusBar",value:function(e){return new d["default"]({game:this.game,value:e})}},{key:"_createSpeechBubble",value:function(e,t,i,n){return new f["default"](this.game,{x:this.game.world.centerX+50,y:e,height:75,tailOffset:30,fontSize:34,width:270,word:t,delay:i,delayOut:n})}},{key:"_initNewLevel",value:function(){(0,l.emitEvent)(y["default"].START_LEVEL,{state:v["default"].BONUS_LEVEL,statusBar:this._statusBar,powerupBar:this._powerupBar})}}]),t}(Phaser.State);i["default"]=k},{10:10,15:15,34:34,35:35,36:36,37:37,38:38,4:4,41:41,9:9}],28:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(14),c=(n(u),e(19)),h=(n(c),e(18)),d=n(h),p=e(10),f=n(p),m=e(9),y=n(m),g=e(37),v=e(35),b=n(v),_=e(36),w=n(_),k=e(38),O=(n(k),e(41)),E=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),o(t,[{key:"create",value:function(){var e=l.props.status,t=e.word;this._powerupBar=null,this._statusBar=this._createStatusBar(t),this.game.add.existing(this._statusBar),this._powerupBar=this._getPowerupBar(e.powerups,e.reicevedNewPowerup),this.game.add.existing(this._powerupBar),this._addSpeechBubble(t.current)}},{key:"_createStatusBar",value:function(e){return new f["default"]({game:this.game,value:e})}},{key:"_getPowerupBar",value:function(e,t){var i=l.props.status.isSmallScreen?35:60,n=this.game.add.group();if(n.position.x=this.game.world.centerX,n.position.y=this.game.world.height-i,e.length)for(var a=0,s=e.length;a<s;a++){var r=70*a-35*(s-1),o=t&&a===s-1,u=new d["default"]({index:a,game:this.game,x:r,y:0,data:e[a],scaleIn:o});if(o){var c=new y["default"](this.game,{x:r,y:-55,condensed:!0,hasTail:!1,height:25,tailOffset:30,fontSize:12,width:120,word:e[a].name,delay:300});n.addChild(c),c.animate("animateIn"),c.inputEnabled=!1}n.addChild(u)}return n}},{key:"_addSpeechBubble",value:function(e,t){var i="new_word_"+(0,g.randomIntFromInterval)(0,6);(0,O.playSound)(i);var n=1===l.props.status.levelIndex&&4===l.props.status.life;this.speechBubble=new y["default"](this.game,{x:this.game.world.centerX,y:this.game.world.centerY,fontSize:40,word:e,helpText:n,delay:200,delayOut:n?1e3:0}),this.speechBubble.inputEnabled=!1,this.game.add.existing(this.speechBubble),this.animateIn()}},{key:"animateIn",value:function(){this.speechBubble.animate("animateIn",this.animateOut.bind(this))}},{key:"animateOut",value:function(){this.speechBubble.animate("animateOut",this._initNewLevel.bind(this))}},{key:"_initNewLevel",value:function(){this.speechBubble.destroy(),(0,l.emitEvent)(b["default"].START_LEVEL,{state:w["default"].LEVEL,statusBar:this._statusBar,powerupBar:this._powerupBar})}}]),t}(Phaser.State);i["default"]=E},{10:10,14:14,18:18,19:19,35:35,36:36,37:37,38:38,4:4,41:41,9:9}],29:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(35),u=n(l),c=e(38),h=(n(c),e(34)),d=e(41),p=e(37),f=e(20),m=n(f),y=e(15),g=n(y),v=e(8),b=(n(v),e(7)),_=(n(b),e(9)),w=n(_),k=e(4),O=e(21),E=(n(O),function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),o(t,[{key:"preload",value:function(){var e=this;if(h.themeCharacter){h.overlays.filter(function(t){h.themeCharacter.overlay.key===t.key&&e.game.load.image(t.key,t.path)})}}},{key:"create",value:function(){this._gameLogoSprite=new m["default"]({game:this.game,x:(0,p.centerObject)(this.game.world.centerX,320),y:-100,key:"game-logo",originCenter:!1,width:320}),(0,d.playSound)("intro"),this._gameLogoSprite.tweenTo(this.game,this._gameLogoSprite.position,{y:40},500,0,Phaser.Easing.Back.Out),this.game.add.existing(this._gameLogoSprite),this._flippy=new g["default"](this.game,{collection:h.themeCharacter,delay:600,onAnimated:this.addSpeechBubble.bind(this)}),this._svtLogoSprite=new m["default"]({game:this.game,x:(0,p.centerObject)(this.game.world.centerX,154),y:this.game.world.height,key:"svt-logo",originCenter:!1,width:154}),this._svtLogoSprite.tweenTo(this.game,this._svtLogoSprite.position,{y:this.game.world.height-60},500,0,Phaser.Easing.Back.Out),this.game.add.existing(this._svtLogoSprite)}},{key:"addSpeechBubble",value:function(){this.speechBubble=new w["default"](this.game,{x:this.game.world.centerX+50,y:this._flippy.figure.position.y,height:75,tailOffset:30,fontSize:24,width:270,word:"starta spelet!",delay:0}),this.game.add.existing(this.speechBubble),this.speechBubble.events.onInputDown.add(this.onStartGameClicked.bind(this)),this.speechBubble.animate("animateIn")}},{key:"onStartGameClicked",value:function(){var e=this;(0,d.playSound)("click"),this.speechBubble.animate("animateOut"),this._flippy.animateOutBody(function(){e._flippy.animateOutHole(function(){e._gameLogoSprite.tweenTo(e.game,e._gameLogoSprite.position,{y:e._gameLogoSprite.position.y-140},500,0,Phaser.Easing.Back.In),e._svtLogoSprite.tweenTo(e.game,e._svtLogoSprite.position,{y:e._svtLogoSprite.position.y+100},400,100,Phaser.Easing.Back.In,function(){e._gameLogoSprite.kill(),e._svtLogoSprite.kill(),(0,k.emitEvent)(u["default"].START_GAME)})})})}}]),t}(Phaser.State));i["default"]=E},{15:15,20:20,21:21,34:34,35:35,37:37,38:38,4:4,41:41,7:7,8:8,9:9}],30:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(10),c=(n(u),e(7)),h=n(c),d=e(35),p=n(d),f=e(38),m=(n(f),e(40)),y=e(41),g=e(37),v=function(e){function t(){a(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._bricks=null,e._statusBar=null,e._powerup=null,e.rows=null,e.cols=null,e.sneakPeekTimer=null,e}return r(t,e),o(t,[{key:"init",value:function(e){this._statusBar=e.statusBar,this._powerupBar=e.powerupBar,this.status=l.props.status}},{key:"preload",value:function(){this.game.load.spritesheet("explosion","assets/sprites/seq-explosion.png",300,322,10)}},{key:"create",value:function(){this._levelDuration=0,this.rows=this.status.level.settings.data.rows,this.cols=this.status.level.settings.data.cols,this.sneakPeekTimer={counter:this.status.level.settings.data.sneekPeekDuration,instance:null,callback:this._sneakPeekFinished},this.brickAnimationTimer={counter:650,instance:null,callback:this._initTimers},this._addBricksToStage(),this._waitForBrickAnimation(),this._setEventListeners()}},{key:"update",value:function(){this.brickAnimationTimer.instance&&(l.props.isPaused&&!this.brickAnimationTimer.instance.paused?this.brickAnimationTimer.instance.pause():!l.props.isPaused&&this.brickAnimationTimer.instance.paused&&this.brickAnimationTimer.instance.resume()),this.sneakPeekTimer.instance&&(l.props.isPaused&&!this.sneakPeekTimer.instance.paused?this.sneakPeekTimer.instance.pause():!l.props.isPaused&&this.sneakPeekTimer.instance.paused&&this.sneakPeekTimer.instance.resume())}},{key:"_setEventListeners",value:function(){var e=this;this.game.onPause.add(function(){e._bricks.toggleBrickContentVisability(!1)},this),this.game.onResume.add(function(){e.sneakPeekTimer.instance&&(e.sneakPeekTimer.instance.expired||e._bricks.toggleBrickContentVisability(!0))},this)}},{key:"_waitForBrickAnimation",value:function(){this.brickAnimationTimer.instance=this._createTimerInstance(),this.brickAnimationTimer.instance.add(this.brickAnimationTimer.counter,this.brickAnimationTimer.callback,this),this.brickAnimationTimer.instance.start()}},{key:"_initTimers",value:function(){this._bricks.disabled||this._initSneakPeekTimer()}},{key:"_stopLevelTimer",value:function(){this._statusBar.progressBar&&(this._levelDuration+=this._statusBar.timer.instance.ms,this._statusBar.timer.instance.stop())}},{key:"_initSneakPeekTimer",value:function(){this.sneakPeekTimer.instance=this._createTimerInstance(),this.sneakPeekTimer.instance.add(this.sneakPeekTimer.counter,this.sneakPeekTimer.callback,this),this.sneakPeekTimer.instance.start()}},{key:"_createTimerInstance",value:function(){return this.game.time.create(!1)}},{key:"_addBricksToStage",value:function(){this._bricks=new h["default"]({game:this.game,rows:this.rows,cols:this.cols,onKilled:this._onKilled.bind(this),onGainedLife:this._onGainedLifed.bind(this),onGameOver:this._onGameOver.bind(this),onLetterCollected:this._onLetterCollected.bind(this),onWordCollected:this._onFinishedLevel.bind(this)}),this.game.add.existing(this._bricks),this._bricks.animateInBricks()}},{key:"_enablePowerupEvents",value:function(){var e=this;this._powerupBar.children.length&&this._powerupBar.children.forEach(function(t){"SpeechBubble"!==t.name?t.addClickEvent(e._onPowerupClick.bind(e)):t.animate("animateOut")})}},{key:"_disablePowerupEvents",value:function(){this._powerupBar.children.length&&this._powerupBar.children.forEach(function(e){e.inputEnabled=!1})}},{key:"_onPowerupClick",value:function(e){var t=this;if(!l.props.isPaused){switch((0,y.playSound)(e.settings.soundKey),e.settings.id){case m.types.TJUVTITT:var i=this._createTimerInstance();this._statusBar.timer.instance.pause(),this._bricks.toggleBrickContentVisability(!0),i.add(e.settings.duration,function(){t._statusBar.timer.instance.resume(),t._bricks.toggleBrickContentVisability(!1)}),i.start();break;case m.types.SKIP:this._onFinishedLevel();break;case m.types.BOMB:this._bricks.children.forEach(function(e){"EMPTY"===e.custom.type&&e.animateBrick("explode")});break;default:return}e.tweenTo(this.game,e.scale,{x:0,y:0},400,0,Phaser.Easing.Exponential.In,function(){e.kill(),(0,l.emitEvent)(p["default"].POWERUP_USED,e.settings.index)})}}},{key:"_onTimeIsUp",value:function(){this._removeBricks("dropOut"),this._disablePowerupEvents(),this._lostLife()}},{key:"_onKilled",value:function(){this._removeBricks("dropOut"),this._disablePowerupEvents(),this._lostLife()}},{key:"_onGameOver",value:function(){var e=this;this._removeBricks("dropOut"),this._disablePowerupEvents(),(0,y.playSound)("ghost"),this._statusBar.removeLostLife(!1,function(){(0,l.emitEvent)(p["default"].LOST_LIFE)},function(){(0,l.emitEvent)(p["default"].UPDATE_DURATION,(0,g.msToSeconds)(e._levelDuration)),(0,l.emitEvent)(p["default"].FAILED_LEVEL,{time:(0,g.msToSeconds)(e._levelDuration)})})}},{key:"_onFinishedLevel",value:function(){var e=this;this._removeBricks("scaleOut"),setTimeout(function(){var t=e.status.isTest?"word_collected_test":"word_collected";(0,y.playSound)(t)},150),setTimeout(function(){(0,l.emitEvent)(p["default"].UPDATE_DURATION,(0,g.msToSeconds)(e._levelDuration)),(0,l.emitEvent)(p["default"].FINISHED_LEVEL,{time:(0,g.msToSeconds)(e._levelDuration)})},1e3)}},{key:"_onLetterCollected",value:function(){this.sneakPeekTimer.instance&&this.sneakPeekTimer.instance.running&&!this.sneakPeekTimer.instance.expired&&(this._levelDuration+=this.sneakPeekTimer.instance.ms,this.sneakPeekTimer.instance.stop(),this._sneakPeekFinished(!0))}},{key:"_lostLife",value:function(){var e=this;(0,y.playSound)("lost_life"),this._statusBar.removeLostLife(1,!1,function(){(0,l.emitEvent)(p["default"].LOST_LIFE),(0,l.emitEvent)(p["default"].UPDATE_DURATION,(0,g.msToSeconds)(e._levelDuration)),(0,l.emitEvent)(p["default"].FAILED_LEVEL,{time:(0,g.msToSeconds)(e._levelDuration)})})}},{key:"_removeBricks",value:function(e){this._bricks.disabled=!0,this._stopLevelTimer(),this._bricks.children.forEach(function(t){t.animateBrick(e)})}},{key:"_onGainedLifed",value:function(){this._statusBar.addLife(),(0,y.playSound)("gained_life"),(0,l.emitEvent)(p["default"].GAINED_LIFE)}},{key:"_sneakPeekFinished",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._bricks.disabled||(this._levelDuration+=e?0:this.sneakPeekTimer.counter,this._statusBar.initLevelTimer(this._onTimeIsUp.bind(this)),this._enablePowerupEvents(),this._bricks.toggleBrickContentVisability(!1))}}]),t}(Phaser.State);i["default"]=v},{10:10,35:35,37:37,38:38,4:4,40:40,41:41,7:7}],31:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e(4),u=e(16),c=n(u),h=e(35),d=n(h),p=e(37),f=e(41),m=e(34),y=function(e){function t(){a(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._loadingIndicator=null,e}return r(t,e),o(t,[{key:"preload",value:function(){}},{key:"create",value:function(){this.loader=new Phaser.Loader(this.game),this.loader.baseURL=this.game.environment.assetsBaseUrl,this.loader.onLoadComplete.add(this.onAssetsLoadedComplete,this),this._levelJSONUrl=this.game.environment.apiBaseUrl+"api/words",this.initLoadingAssets(),this.startLoadingAssets()}},{key:"startLoadingAssets",value:function(){var e=this;this._loadingIndicator=new c["default"]({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY}),this.game.add.existing(this._loadingIndicator),this._loadingIndicator.animateIn(function(){e.loader.start()})}},{key:"initLoadingAssets",value:function(){var e=this,t=(0,p.getAssetPrefix)();this.loader.bitmapFont("roboto-slab","assets/fonts/roboto-slab-regular"+t+".png?v=3","assets/fonts/roboto-slab-regular"+t+".fnt?v=3"),this.loader.bitmapFont("roboto-slab-bold","assets/fonts/roboto-slab-bold"+t+".png?v=4","assets/fonts/roboto-slab-bold"+t+".fnt?v=4"),this.loader.bitmapFont("roboto-slab-bold-small","assets/fonts/roboto-slab-bold-small"+t+".png?v=2","assets/fonts/roboto-slab-bold-small"+t+".fnt?v=2"),this.loader.bitmapFont("roboto-slab-bold-medium","assets/fonts/roboto-slab-bold-medium"+t+".png?v=4","assets/fonts/roboto-slab-bold-medium"+t+".fnt?v=4"),this.loader.bitmapFont("roboto-slab-bold-large","assets/fonts/roboto-slab-bold-large"+t+".png?v=3","assets/fonts/roboto-slab-bold-large"+t+".fnt?v=3"),this.loader.bitmapFont("roboto-condensed-bold","assets/fonts/roboto-condensed-bold"+t+".png","assets/fonts/roboto-condensed-bold"+t+".fnt"),this.loader.json("levelsJSON",this._levelJSONUrl),this.loader.atlasJSONHash("asset-sprite","assets/asset-sprite.png?v=4","assets/asset-sprite.json?v=4"),this.loader.image("game-logo","assets/game-logo"+t+".png?v=2"),this.loader.image("svt-logo","assets/svt-logo"+t+".png?v=4"),this.loader.image("static-face","assets/static-face"+t+".png"),this.loader.image("landing-image","assets/landing-image.png?v=2"),m.baseParts.forEach(function(t){"undefined"!=typeof t.sprite?e.loader.spritesheet(t.key,t.path,t.sprite.width,t.sprite.height,t.sprite.frames):e.loader.image(t.key,t.path)}),(0,p.isMobileIE)()||f.sounds.forEach(function(t){e.loader.audio(t.key,t.path)})}},{key:"onAssetsLoadedComplete",value:function(){var e=this;this._loadingIndicator.animateOut(function(t){e._loadingIndicator.kill(),(0,l.emitEvent)(d["default"].ASSETS_LOADED,e.game)})}}]),t}(Phaser.State);i["default"]=y},{16:16,34:34,35:35,37:37,4:4,41:41}],32:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e(33),s=n(a),r={white:{main:s["default"].offWhite,secondary:s["default"].darkOffWhite},red:{main:s["default"].red,secondary:s["default"].darkRed},green:{main:s["default"].green,secondary:s["default"].darkGreen},yellow:{main:s["default"].yellow,secondary:s["default"].darkYellow},black:{main:s["default"].darkBlack,secondary:s["default"].offDarkBlack}},o={LETTER:{standard:r.white,hidden:r.white,dead:r.red,active:r.green},GHOST:{standard:r.yellow,active:r.yellow,hidden:r.white,dead:r.red},LIFE:{standard:r.yellow,active:r.yellow,hidden:r.white,dead:r.red},EMPTY:{standard:r.white,hidden:r.white,dead:r.red,active:r.red,exploded:r.black}};i["default"]=o},{33:33}],33:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={backgroundColor:parseInt("1f7cfb",16),black:parseInt("000000",16),offBlack:parseInt("2f2f2f",16),darkOffBlack:parseInt("1f1f1f",16),green:parseInt("03c400",16),darkGreen:parseInt("027500",16),white:parseInt("FFFFFF",16),offWhite:parseInt("FAFAEB",16),darkOffWhite:parseInt("D9D9CC",16),yellow:parseInt("FFDC5E",16),darkYellow:parseInt("D89B39",16),red:parseInt("FF3273",16),darkRed:parseInt("B32451",16),blue:parseInt("1F7CFB",16),darkBlue:parseInt("1C6FE1",16),darkerBlue:parseInt("165AB6",16),confetti:[parseInt("F89037",16),parseInt("3DB8FC",16),parseInt("03C400",16),parseInt("03C400",16),parseInt("FEBB53",16),parseInt("B58B75",16),parseInt("FFDC5E",16),parseInt("FF3273",16)]};i["default"]=n},{}],34:[function(e,t,i){"use strict";function n(e){return(0,u.isSmallScreen)()?e*d:e}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?f:m,n=i.filter(function(t){return t.key===e});if(n.length)return n[0]}function s(e){var t=(e-e%5)/5<=18?(e-e%5)/5:18;if(g[t])return l({},v,g[t])}function r(e){var t=y[e];if("undefined"!=typeof t)return l({},v,t)}function o(e,t){var n=e.cache.getJSON(t).data.character;"undefined"!=typeof n?i.themeCharacter=p=r(e.cache.getJSON(t).data.character):i.themeCharacter=p=!1}Object.defineProperty(i,"__esModule",{value:!0}),i.overlays=i.baseParts=i.themeCharacter=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};i.getVerticalOffset=n,i.getCollectionByLevel=s,i.getCollection=r,i.initThemeCharacter=o;var u=e(37),c="assets/flippy-parts",h=(0,u.getAssetPrefix)(),d=.875,p=i.themeCharacter={},f=i.baseParts=[{key:"body-default",path:c+"/body-default@2x.png?v=3",style:{width:n(160)}},{key:"hole",path:c+"/flippy-hole"+h+".png?v=3",style:{width:n(197),xlwidth:n(246)}},{key:"face-default",path:c+"/seq-flippy-default.png?v=2",sprite:{frames:52,width:300,height:300},style:{width:n(150)}},{key:"face-bonus",path:c+"/seq-flippy-bonus.png?v=2",sprite:{frames:133,width:300,height:300},style:{width:n(150)}}],m=i.overlays=[{key:"overlay-1",path:c+"/hat.png",style:{width:n(397)}},{key:"overlay-2",path:c+"/giant-glasses.png",style:{width:n(397),xl:!0}},{key:"overlay-3",path:c+"/game.png",style:{width:n(397),xl:!0}},{key:"overlay-4",path:c+"/cat.png",style:{width:n(397)}},{key:"overlay-5",path:c+"/hiphop.png",style:{width:n(397)}},{key:"overlay-6",path:c+"/horn.png",style:{width:n(397)}},{key:"overlay-7",path:c+"/icecream.png",style:{width:n(397)}},{key:"overlay-8",path:c+"/joker.png",style:{width:n(397)}},{key:"overlay-9",path:c+"/monster.png",style:{width:n(397)}},{key:"overlay-10",path:c+"/mouth.png",style:{width:n(397)}},{key:"overlay-11",path:c+"/multieyes.png",style:{width:n(397)}},{key:"overlay-12",path:c+"/pink-hair.png",style:{width:n(397),xl:!0}},{key:"overlay-13",path:c+"/punk.png",style:{width:n(397)}},{key:"overlay-14",path:c+"/rainbow.png",style:{width:n(397)}},{key:"overlay-15",path:c+"/robot.png",style:{width:n(397)}},{key:"overlay-16",path:c+"/starglasses.png",style:{width:n(397)}},{key:"overlay-17",path:c+"/turd.png",style:{width:n(397)}},{key:"overlay-18",path:c+"/wings.png",style:{width:n(397),xl:!0}},{key:"overlay-19",path:c+"/dracula.png",style:{width:n(397),xl:!0}},{key:"santa",path:c+"/christmas.png",style:{width:n(397)}}],y={"default":{},bonus:{face:a("face-bonus",!0)},custom1:{overlay:a("overlay-1")},custom2:{overlay:a("overlay-2")},custom3:{overlay:a("overlay-3")},custom4:{overlay:a("overlay-4")},custom5:{overlay:a("overlay-5")},custom6:{overlay:a("overlay-6")},custom7:{overlay:a("overlay-7")},custom8:{overlay:a("overlay-8")
},custom9:{overlay:a("overlay-9")},custom10:{overlay:a("overlay-10")},custom11:{overlay:a("overlay-11")},custom12:{overlay:a("overlay-12")},custom13:{overlay:a("overlay-13")},custom14:{overlay:a("overlay-14")},custom15:{overlay:a("overlay-15")},custom16:{overlay:a("overlay-16")},custom17:{overlay:a("overlay-17")},custom18:{overlay:a("overlay-18")},custom19:{overlay:a("overlay-19")},santa:{overlay:a("santa")}},g=[y.custom1,y.custom2,y.custom3,y.custom4,y.custom5,y.custom6,y.custom7,y.custom8,y.custom9,y.custom10,y.custom11,y.custom12,y.custom13,y.custom14,y.custom15,y.custom16,y.custom17,y.custom18,y.custom19],v={body:a("body-default",!0),hole:a("hole",!0),face:a("face-default",!0)}},{37:37}],35:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={ASSETS_LOADED:"ASSETS_LOADED",FINISHED_LEVEL:"FINISHED_LEVEL",FINISHED_BONUS_LEVEL:"FINISHED_BONUS_LEVEL",FAILED_BONUS_LEVEL:"FAILED_BONUS_LEVEL",FAILED_LEVEL:"FAILED_LEVEL",START_LEVEL:"START_LEVEL",LOST_LIFE:"LOST_LIFE",GAINED_LIFE:"GAINED_LIFE",RESTART_GAME:"RESTART_GAME",PAUSE_GAME:"PAUSE_GAME",RESUME_GAME:"RESUME_GAME",UPDATE_DURATION:"UPDATE_DURATION",START_GAME:"START_GAME",POWERUP_USED:"POWERUP_USED",LEVEL_INITILIZED:"LEVEL_INITILIZED",CHECK_IF_BONUSLEVEL:"CHECK_IF_BONUSLEVEL",CHECK_IF_LETTER_MATCH:"CHECK_IF_LETTER_MATCH",UPDATE_LETTER_COLLECTED:"UPDATE_LETTER_COLLECTED",UPDATE_PAUSE_STATE:"UPDATE_PAUSE_STATE",PLAY_AUDIO:"PLAY_AUDIO",UPDATE_MUTE_STATE:"UPDATE_MUTE_STATE"};i["default"]=n},{}],36:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={LOAD_GAME:"LOAD_GAME",LANDING:"LANDING",INIT_LEVEL:"INIT_LEVEL",INIT_BONUSLEVEL:"INIT_BONUSLEVEL",LEVEL:"LEVEL",BONUS_LEVEL:"BONUS_LEVEL",GAME_OVER:"GAME_OVER",EARNED_POWERUP:"EARNED_POWERUP",HIGHSCORE:"HIGHSCORE"};i["default"]=n},{}],37:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=Math.PI/180,a=function(){return window.bkMinigamePath?window.bkMinigamePath:""},s=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},r=function(){return window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI},o=function(e){return r()>1?.5*e:e},l=function(){return r()>1?"@2x":"@1x"},u=function(e,t){return e-t/2},c=function(e){return Math.ceil(.001*e)},h=function(e){navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&navigator.vibrate(e)},d=function(e,t,i,a,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,o=arguments[6],l=n;a-t-2*r<0&&(r=.5*(a-t)),s-i-2*r<0&&(r=.5*(s-i)),e.beginPath(),e.moveTo(t+r,i),e.lineTo(a-r,i),e.arc(a-r,i+r,r,270*l,360*l,!1),e.lineTo(a,s-r),e.arc(a-r,s-r,r,0*l,90*l,!1),e.lineTo(t+r,s),e.arc(t+r,s-r,r,90*l,180*l,!1),e.lineTo(t,i+r),e.arc(t+r,i+r,r,180*l,270*l,!1),e.closePath(),e.fillStyle=o,e.fill()},p=function(){return window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext},f=function(){return navigator.appVersion.indexOf("MSIE 10")!==-1||navigator.appVersion.indexOf("MSIE 9")!==-1||navigator.appVersion.indexOf("Windows NT 6.3")!==-1},m=function(){var e=navigator.userAgent;return e.match(/Windows Phone/i)||e.match(/iemobile/i)},y=function(){var e=navigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&!(e.indexOf("Chrome")>-1)},g=function(){return f()||m()||y()},v=function(e){if(!f()&&!window.isCanvasRenderer){var t=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI;e.canvas.width*=t,e.canvas.height*=t,e.ctx.scale(t,t)}},b=function(){return{width:window.innerWidth,height:window.innerHeight}},_=function(){return window.innerWidth<375},w=function(e){var t=e.toString(16);return t.length<6&&(t="0"+t),"#"+t},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Phaser.Easing.Linear.In,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(t&&e){var u=e.add.tween(t);return u.to(i,n,s,!0,a,o,l),r&&u.onComplete.add(r,this),u}};i.assetsBaseUrl=a,i.randomIntFromInterval=s,i.pixelRatio=r,i.getScaleToValue=o,i.getAssetPrefix=l,i.vibrate=h,i.audioAPISupported=p,i.forceCanvas=g,i.isOldIE=f,i.isMobileIE=m,i.isAndroidBrowser=y,i.drawRoundedRect=d,i.scaleBitmapData=v,i.getScreenDimensions=b,i.getNumberAsHex=w,i.tweenTo=k,i.radians=n,i.centerObject=u,i.isSmallScreen=_,i.msToSeconds=c},{}],38:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(37),a={statusBar:{height:56,centerY:28},brick:{width:70,center:35,xs:{width:60,center:30},gutterX:5,gutterY:10,scaleIn:{tween:{y:[.2,.4,.6,.8,1.02,.98,1],x:[.2,.4,.6,.8,.98,1.02,1]}}},speechBubble:{tail:function s(e){var s=new Phaser.BitmapData(e,"speech-bubble-tail-data",40,12);return(0,n.scaleBitmapData)(s),s.ctx.beginPath(),s.ctx.moveTo(5,0),s.ctx.arcTo(10,6,0,12,8),s.ctx.lineTo(0,12),s.ctx.moveTo(0,12),s.ctx.arcTo(30,12,40,0,50),s.ctx.lineTo(40,0),s.ctx.lineTo(5,0),s.ctx.fillStyle="#FFFFFF",s.ctx.fill(),s}}};i["default"]=a},{37:37}],39:[function(e,t,i){"use strict";function n(e,t){e&&(o=e.cache.getJSON(t).data.levels,l=e.cache.getJSON(t).data.themeWords,u=e.cache.getJSON(t).data.words,r=!0)}function a(e){return o.indexOf(e)<o.length-1}function s(e){if(r){for(var t=0,i=o.length;t<i;t++)if(e<=o[t].levels)return{data:o[t],themeWords:l?l[o[t].words]:[],words:u[o[t].words]};var n=o[o.length-1];return{data:n,themeWords:l[n.words],words:u[n.words]}}}Object.defineProperty(i,"__esModule",{value:!0}),i.initLevels=n,i.checkIfLastLevel=a,i.getLevel=s;var r=(e(34),!1),o=[],l={},u={}},{34:34}],40:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.types=i.powerups=void 0;var n=e(37),a=(0,n.getAssetPrefix)(),s={TJUVTITT:"TJUVTITT",SKIP:"SKIP"},r=[{id:s.TJUVTITT,name:"Tjuvtitt",key:"powerup-sneakpeek",soundKey:"powerup-default",path:"assets/powerup-eye-icon"+a+".png",duration:2e3,sprite:{key:"powerup-eye-sprite",path:"assets/sprites/seq-powerup-eye.png?v=3",frames:112,"static":{path:"assets/sprites/powerup-eye-static.png"}}},{id:s.SKIP,name:"Hoppa Ã¶ver bana",key:"powerup-skip",soundKey:"powerup-skip",path:"assets/powerup-skip-icon"+a+".png",sprite:{key:"powerup-skip-sprite",path:"assets/sprites/seq-powerup-skip.png?v=3",frames:111,"static":{path:"assets/sprites/powerup-skip-static.png"}}}];i.powerups=r,i.types=s},{37:37}],41:[function(e,t,i){"use strict";function n(e){if(!s.props.isMuted){var t=a(e);t&&t.play()}}function a(e){return o.filter(function(t){return t.key===e})[0].audio}Object.defineProperty(i,"__esModule",{value:!0}),i.sounds=void 0,i.playSound=n;var s=e(4),r="assets/audio",o=i.sounds=[{key:"intro",path:r+"/intro.mp3",audio:null},{key:"flippy_in",path:r+"/flippy_in.mp3",audio:null},{key:"flippy_out",path:r+"/flippy_out.mp3",audio:null},{key:"wooow",path:r+"/wooow.mp3",audio:null},{key:"click",path:r+"/click.mp3",audio:null},{key:"word_collected",path:r+"/brick/finished.mp3",audio:null},{key:"word_collected_test",path:r+"/brick/finished.mp3",audio:null},{key:"gained_life",path:r+"/life.mp3",audio:null},{key:"new_word_0",path:r+"/new_word/0.mp3",audio:null},{key:"new_word_1",path:r+"/new_word/1.mp3",audio:null},{key:"new_word_2",path:r+"/new_word/2.mp3",audio:null},{key:"new_word_3",path:r+"/new_word/3.mp3",audio:null},{key:"new_word_4",path:r+"/new_word/4.mp3",audio:null},{key:"new_word_5",path:r+"/new_word/5.mp3",audio:null},{key:"new_word_6",path:r+"/new_word/6.mp3",audio:null},{key:"lost_life",path:r+"/killed.mp3",audio:null},{key:"bonus",path:r+"/bonus.mp3",audio:null},{key:"powerup-default",path:r+"/powerups/default.mp3",audio:null},{key:"powerup-bomb",path:r+"/powerups/bomb.mp3",audio:null},{key:"powerup-skip",path:r+"/powerups/skip.mp3",audio:null},{key:"upgrade",path:r+"/upgrade.mp3",audio:null},{key:"bonusclick",path:r+"/bonusclick.mp3",audio:null},{key:"ghost",path:r+"/ghost.mp3",audio:null},{key:"cheer",path:r+"/cheer.mp3?v=2",audio:null},{key:"pause",path:r+"/pause.mp3",audio:null},{key:"letter_collected_0",path:r+"/brick/1.mp3",audio:null},{key:"letter_collected_1",path:r+"/brick/2.mp3",audio:null},{key:"letter_collected_2",path:r+"/brick/3.mp3",audio:null},{key:"letter_collected_3",path:r+"/brick/4.mp3",audio:null},{key:"letter_collected_4",path:r+"/brick/5.mp3",audio:null},{key:"letter_collected_5",path:r+"/brick/6.mp3",audio:null},{key:"letter_collected_6",path:r+"/brick/7.mp3",audio:null},{key:"letter_collected_7",path:r+"/brick/8.mp3",audio:null},{key:"letter_collected_8",path:r+"/brick/9.mp3",audio:null}]},{4:4}],42:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=window.SVTLIB_STATISTICS,s={defaultProps:{svt_domain:"svt.se",svt_level1:"barnkanalen",svt_level2:"spel",svt_level3:"flippy",pageName:"svt.se:barnkanalen:spel:flippy",URL:"svt.se/barnkanalen/flippy","InnehÃ¥llstyp":"spel:ovrigt:ovrigt",svt_appname:"webb",prop26:"svt.se:barnkanalen:spel:flippy"},trackPage:function(){this.defaultProps&&a&&a.trackAsPageView(this.defaultProps)},trackEvent:function(e,t){var i=n({},this.defaultProps,t);a&&a.trackAsEvent(e,i)}};i["default"]=s},{}]},{},[11]);